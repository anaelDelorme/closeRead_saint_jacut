[
  {
    "objectID": "carte_closeread-main/maps.html",
    "href": "carte_closeread-main/maps.html",
    "title": "OJS Maps",
    "section": "",
    "text": "If you‚Äôve seen the OJS Basics demo, you‚Äôve seen ways that we can use scroll progress to make graphics that ‚Äúanimate‚Äù as the user scrolls.\nThat demo completely destroys and recreates the graphic continuously as the user scrolls, which works well for Observable Plot.\nBut many other JavaScript frameworks have animation capabilities built in, and if you want to leverage those capabilities, you may not be able to use this technique - any potential animation in them is lost the moment you destroy it.\nIn these cases, we initialise the map in one chunk of OJS code, then write the reactive bit ‚Äî the part that ties it to our scroll progress ‚Äî in a separate chunk.\n\nBertin.js\nBertin.js is a simple mapping library. You can absolutely use it as we do in the OJS Basics demo, replacing the map wholesale. But you can also use its update() function to change it\n\ncities = [\n  { name: \"Brisbane\",  lat: -27.467778, lon: 153.028056 },\n  { name: \"New Delhi\", lat: 28.613889,  lon: 77.208889 },\n  { name: \"Singapore\", lat: 1.283333,   lon: 103.833333 },\n  { name: \"Istanbul\",  lat: 41.013611,  lon: 28.955 },\n  { name: \"Paris\",     lat: 48.856667,  lon: 2.352222 },\n  { name: \"Nairobi\",   lat: -1.286389,  lon: 36.817222 },\n  { name: \"S√£o Paulo\", lat: -23.55,     lon: -46.633333 },\n  { name: \"Montreal\",  lat: 45.508889,  lon: -73.554167 },\n  { name: \"Houston\",   lat: 29.762778,  lon: -95.383056 },\n  { name: \"Vancouver\", lat: 49.260833,  lon: -123.113889 },\n  { name: \"Honolulu\",  lat: 21.306944,  lom: -157.858333 }\n]\n\nworld = FileAttachment(\"naturalearth-land-110m.geojson\").json()\n\n// add a population column and convert to geojson\ncitiesGeo = bertin.table2geo(cities.map(d =&gt; ({...d, size: 3})))\n\nbertin = require(\"bertin@1.8\")\n\nL = require('leaflet@1.2.0')\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFirst, let‚Äôs draw the map. Let‚Äôs mark the cities from the OJS Basics demo too.\n\n\n\n\nNow we can update aspects of the map:\n\n// echo: true\nnewMap = {\n  const scrollColour = crTriggerIndex &gt;= 1 ?\n    \"royalblue\" : \"orangered\"\n\n  bertinMap.update({\n    id: \"city-layer\",\n    attr: \"fill\",\n    value: scrollColour,\n    duration: 1000\n  })\n}\n\n\n\n\n\n\n\n\n\n\nNotice that the map transitions between states instead of being replaced!\n\n\n\n\n\n\n\nbertinMap = bertin.draw({\n  params: { projection: d3.geoNaturalEarth1() },\n  layers: [\n    {\n      id: \"city-layer\",\n      type: \"bubble\",\n      geojson: citiesGeo,\n      values: \"size\",\n      k: 20,\n      fill: \"orangered\",\n\n      tooltip: [ \"$name\" ]\n    },\n    {\n      type: \"layer\",\n      geojson: world,\n      fill: \"#f5d482\"\n    },\n    { type: \"graticule\" },\n    { type: \"outline\" }\n  ]\n})\n\n\n\n\n\n\n\n\n\n\nNice! Let‚Äôs see if we can apply this to a slightly more complex example.\n\n\nLeaflet\n\n\n\n\nFirst, let‚Äôs draw the map. Let‚Äôs mark the cities from the OJS Basics demo too.\n\n\n\n\n\n\n\n\n\nEssai\n\n\n\n\n\n\n\nmap = {\n  let container = DOM.element('div', { style: `height:180px;` });\n  yield container;\n  let map = L.map(container)\n    .setView([51.505, -0.09], 13);\n  let layer = L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt;'\n  })\n    .addTo(map);\n\n\n  \n}\n\n\n\n\n\n\n\n\n\n\n\n\nMapLibre\nLet‚Äôs try the technique out with MapLibre, an open fork of Mapbox GL JS.\n\n\nThis pattern will work just as well with Mapbox, as well as with most frameworks that let you call separate code to ‚Äòupdate‚Äô their graphics.\nMapLibre doesn‚Äôt require an API key the way Mapbox does, but it also doesn‚Äôt come with any tiles out of the box.\n\nr = require.alias({\n  maplibregl: \"maplibre-gl@2.1.9/dist/maplibre-gl.js\",\n  h3: {},\n  // deck: \"deck.gl@8.9.35/dist.min.js\"\n})\n\nmaplibregl = r(\"maplibregl\").catch(() =&gt; window[\"maplibregl\"])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nToday we‚Äôll use some demo tiles that MapLibre provides ‚Äî they‚Äôre great for global or continental scale maps, but if you need to show more fine-grained stuff like streets, you might need to make your own tiles or look for a commercial service.\n\n\n\n\nFirstly, we‚Äôll initialise our map. This has three steps:\n\nCreate a container for it\nInitialise the map itself\nWhen the map is ready, connect it back to OJS. This lets us use the map as an input if we want to do that\n\n\n\n\n\nNow that the map is ready, we can start to change it!\n\ntour = {\n  switch (crTriggerIndex) {\n    case 5:\n      scrollMap.flyTo({\n        // se australia\n        center: [147, -35],\n        zoom: 4\n      })\n      break\n    case 6:\n      scrollMap.flyTo({\n        // western usa\n        center: [-120, 42],\n        zoom: 4\n      })\n      break\n    default:\n      scrollMap.flyTo({\n        bounds: [[-175, -80], [175, 85]]\n      })\n  }\n}\n\n\n\n\n\n\n\n\n\n\nLet‚Äôs move the map to south-eastern Australia.\n\n\n\n\nAnd then to the west coast of the US!\n\n\n\n\nWe can modify any of the map‚Äôs methods ‚Äî or even update a layer on the map, like filtering it or changing its colours.\n\n\n\n\n\n\n\nviewof scrollMap = {\n  \n  // set the space up for the map\n  // (note that you must currently manually size a full-bleed map!)\n  let container = html`&lt;div style=\"height: 100vh; width: 100vw;\"&gt;&lt;/div&gt;`\n  \n  /* you can also create an element for the map to appear where you\n     initialise it. this also requires some extra fiddling with size */\n  // let container = document.getElementById(\"cr-maplibre\")\n  \n  yield container\n  \n  // set the map up\n  let map = new maplibregl.Map({\n    container,\n    bounds: [[-175, -80], [175, 85]],\n    pitch: 30,\n    antialias: true,\n    style: \"style.json\",\n    interactive: false\n  })\n\n  map.on(\"load\", () =&gt; {\n    container.value = map\n    container.dispatchEvent(new CustomEvent(\"input\"))\n\n    // if your map has layers, create them separately and\n    // call `map.addLayer()` here!\n  })\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nmd`Active sticky: ${crActiveSticky}`\n\n\n\n\n\n\n\nmd`Active trigger: ${crTriggerIndex}`\n\n\n\n\n\n\n\nmd`Trigger progress: ${(crTriggerProgress * 100).toFixed(1)}%`\n\n\n\n\n\n\n\nmd`Scroll direction: ${crDirection}`\n\n\n\n\n\n\n\nmd`Progress Block progress: ${(crProgressBlock * 100).toFixed(1)}%`"
  },
  {
    "objectID": "carte_closeread-main/about.html",
    "href": "carte_closeread-main/about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n\n[1] 2"
  },
  {
    "objectID": "carte_closeread-main/deuxieme_carte.html",
    "href": "carte_closeread-main/deuxieme_carte.html",
    "title": "Zoom sur Saint-Jacut",
    "section": "",
    "text": "bertin = require(\"bertin\")\n\n\n\n\n\n\n\nregs = FileAttachment(\"reg_francemetro_2024.json\").json();\ndeps = FileAttachment(\"dep_reg_53_2024.json\").json();\ncom = FileAttachment(\"commune22302_dep_22_2024.json\").json();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbretagne = bertin.properties.subset({\n    geojson: regs,\n    field: \"code\",\n    selection: [\"53\"],\n    inverse: false\n})\n\n\ndep22 = bertin.properties.subset({\n    geojson: deps,\n    field: \"code\",\n    selection: [\"22\"],\n    inverse: false\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nzoom = {return { \n            type: \"Polygon\",\n            coordinates:  [[[x_min,y_min],[x_min,y_max],[x_max,y_max],[x_max,y_min],[x_min,y_min]]]\n            \n          }\n        }\n        \nmer = {return { \n            type: \"Polygon\",\n            coordinates:  [[[0, 6000000],[0,7500000],[1200000,7500000],[1200000,6000000],[0, 6000000]]]\n            \n          }\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojection = d3.geoIdentity()\n    .reflectY(true)\n    .fitSize([width/2, width /2 ], zoom);\n\n\n\n\n\n\n\nprogression = (crTriggerIndex != null ? crTriggerIndex : 0) + crTriggerProgress\n\n\n\n\n\n\nAh, la Bretagne ! Terre des anciens myst√®res et des horizons oubli√©s, elle se dresse telle une sentinelle √† l‚Äôextr√©mit√© occidentale d‚ÄôEurasie, avan√ßant hardiment son front de roc vers les eaux tumultueuses de l‚ÄôAtlantique. L√†-bas, √† l‚Äôor√©e du monde, ses paysages s‚Äô√©tirent comme des murmures d‚Äô√©ternit√©.\nPour qui s‚Äôaventure jusqu‚Äô√† ces contr√©es lointaines, apr√®s de longues travers√©es au gr√© des routes sinueuses, la Bretagne r√©v√®le son secret : elle n‚Äôest pas qu‚Äôune p√©ninsule, mais un royaume d‚Äôembo√Ætements infinis, une danse fractale o√π chaque cap en cache un autre, o√π chaque promontoire semble chuchoter l‚Äôhistoire des si√®cles.\nVoyageur, contemple ! Ces rivages ne sont pas de simples terres, mais des fragments du Grand Tissage. Ici, la g√©ographie elle-m√™me raconte l‚Äô√©pop√©e d‚Äôune terre fa√ßonn√©e par l‚Äôoc√©an et le vent, une fronti√®re entre l‚Äôici et l‚Äôailleurs, le connu et l‚Äôinfini.\n\nx_min_f = d3.scaleLinear()\n  .domain((progression&lt;=4 ? [0, 4] : [4,7]))\n  .range((progression&lt;=4 ? [99225, 118203] : [118203,306043]))\n  .clamp(true)\n  \nx_max_f = d3.scaleLinear()\n  .domain((progression&lt;=4 ? [0, 4] : [4,7]))\n  .range((progression&lt;=4 ? [1242375, 403455] : [403455,327679]))\n  .clamp(true)\n  \ny_min_f = d3.scaleLinear()\n  .domain((progression&lt;=4 ? [0, 4] : [4,7]))\n  .range((progression&lt;=4 ? [6049646, 6691429] : [6691429,6839888]))\n  .clamp(true)  \n\ny_max_f = d3.scaleLinear()\n  .domain((progression&lt;=4 ? [0, 4] : [4,7]))\n  .range((progression&lt;=4 ? [7110480, 6892032] : [6892032,6854870]))\n  .clamp(true)\n\n\n\nx_min = x_min_f(progression)\nx_max = x_max_f(progression)\ny_min = y_min_f(progression)\ny_max = y_max_f(progression)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLa Bretagne est une terre singuli√®re, fief familiale d‚ÄôAna√´l et Fran√ßois, deux personnalit√©s aussi antinomiques qu‚Äôattachantes.\n\n\n\n\nMais aujourd‚Äôhui, ce qui nous int√©resse, ce n‚Äôest pas la Bretagne dans son ensemble, mais un d√©partement bien pr√©cis..\n\n\n\n\nUn d√©partement de l√©gende, peupl√© d‚Äôirr√©ductibles Gaulois\n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor\n\n\n\n\nOu plus pr√©cis√©ment une presqu‚Äô√Æle‚Ä¶\n\n\n\n\nA l‚Äôest du d√©partement, quasiment cach√© du reste du monde‚Ä¶\n\n\n\n\nFractale parmi les fractales, elle se cache pour mieux se d√©couvrir‚Ä¶\n\n\n\n\n\nBienvenue √† Saint-Jacut-de-la-Mer\n\n\n\n\n\n\n\nPlot.plot({\n  projection:  projection,\n    \n    width: width/2,\n    height: width/2,\n\n\n  marks: [\n    Plot.geo(mer, {strokeOpacity: 1, fill: 'blue', stroke: 'white'}),\n    Plot.geo(regs, {strokeOpacity: 1, fill: 'green', stroke: 'white'}),\n    Plot.geo(bretagne, {strokeOpacity: 1, fill: 'white'}),\n    Plot.geo(deps, {strokeOpacity: 1,  stroke: 'gray'}),\n    Plot.geo(dep22, {strokeOpacity: 1,  stroke: 'gray', fill: 'lightgray'}),\n    Plot.geo(com, {fill: 'red', stroke: 'red', strokeWidth: 6, fillOpacity: (progression&lt;6 ? 0 : progression  )/8,\n                   strokeOpacity: (progression&lt;6 ? 0 : progression)/8,}),\n    Plot.geo(bretagne, {fill: 'orange', fillOpacity:  1-(progression)/4})\n    \n  ]\n})\n\n\n\n\n\n\n\n\n\n\nSometimes it can be worth closing your story with some additional text to give the scrollytelling section some room to breathe. So here‚Äôs some nonsense!\nEu in culpa officia cupidatat nostrud laborum do consequat officia Lorem tempor consectetur pariatur sunt. Veniam culpa dolore laborum nostrud ipsum pariatur ipsum dolore consectetur commodo ex. Non culpa deserunt voluptate. Amet excepteur incididunt deserunt pariatur velit labore do sunt occaecat eiusmod. Tempor proident sint exercitation culpa incididunt sunt proident sunt reprehenderit. Sint ipsum qui id nisi quis officia in. Anim velit minim fugiat qui dolor enim occaecat amet excepteur do aliqua ex adipisicing laboris labore.\nCulpa aute sint aliquip in aute enim cillum in exercitation cupidatat ex cupidatat mollit dolore ut. Et culpa minim laborum in ipsum laborum velit laboris fugiat ad culpa cillum. Sit nulla eu minim in nulla. Nulla esse sint occaecat eiusmod in irure in dolor veniam pariatur laboris consectetur sunt laboris excepteur. Dolor dolore ad incididunt consequat. Ad elit ullamco veniam cillum reprehenderit pariatur pariatur nisi ea. Pariatur quis ut deserunt eiusmod ipsum magna ullamco."
  },
  {
    "objectID": "example_formation/4-scroll-text-with-focus.html",
    "href": "example_formation/4-scroll-text-with-focus.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Les Champs Quantiques : Une Odyss√©e de M√™l√©es et de Meringues par Andr√© Laousse, philosophe agricole et mystique des champs, originaire de Saint-Roustan\n\n\n\n\nDans le Lauragais, chaque grain sem√© contient toutes les r√©coltes possibles, comme si la m√©canique quantique s‚Äôinvitait dans les champs ondoyants.\n\n\n\n\nLes sillons trac√©s par les charrues dessinent des fractales invisibles, rappelant les trajectoires d‚Äôun ballon de rugby lanc√© dans le vent.\n\n\n\n\nLes souffl√©s miraculeux du Lauragais d√©fient la gravit√©, un myst√®re que seule la physique quantique semble capable d‚Äôexpliquer.\n\n\n\n\nAu c≈ìur du Lauragais, tradition et innovation se rencontrent, unissant rugby, agriculture et m√©canique quantique dans une harmonie improbable.\n\n\n\n\n\n\nOde quantique au Lauragais\nDans les vastes plaines du Lauragais,\nO√π dansent les vents aux mille √©clats,\nSe cache un lien myst√©rieux,\nEntre les bl√©s et l‚Äôunivers fabuleux.\n\nChaque graine porte en son sein\nToutes les moissons, tous les destins.\nAbondance dor√©e ou s√©cheresse,\nLe temps suspend sa hardiesse.\n\nComme le chat de Schr√∂dinger,\nLe bl√© h√©site, r√™ve ou meurt.\nEt les moulins, tels des spirales,\nQuestionnent les lois fondamentales.\n\nDans les sillons que trace la charrue\nNaissent des fractales m√©connues.\nOvale parfait, sous la pluie battante,\nUn ballon de rugby les imite en silence.\n\nAupr√®s des fours de terre ancestraux,\nLes grands-m√®res tissent leurs m√©taux.\nCassoulets meringu√©s, d√©fi de gravit√©,\nS‚Äô√©l√®vent, port√©s par l‚Äôinfini des saveurs m√™l√©es.\n\nJaunes et blancs, comme quarks dans l‚Äôespace,\nDansent en cadence, d√©fiant la surface.\nLe secret ? Les champs magn√©tiques d‚Äôargile,\nFusion de physique et de terre fertile.\n\nMais voici le dilemme irrationnel :\nComment unir croissants et m√™l√©es fid√®les ?\nLes agriculteurs, gardiens du chaos,\nParlent de cycles, de rythmes, de flots.\n\nCar tout dans le Lauragais s‚Äôentrelace :\nLe rugby, la p√¢tisserie et l‚Äôespace.\nLe temps s‚Äôefface, les r√®gles s‚Äôinversent,\nC‚Äôest un terroir o√π vibre l‚Äôunivers.\n\nAinsi, ce pays est quantique, voyez :\n√Ä la fois bl√©, cosmos et id√©es.\nTradition et r√™ve, cassoulet, cosmos,\nLe Lauragais, miroir de ce qui est et n‚Äôest pas.\n\n\n\n\n\n\n\n\nDonuts et Grumes : L‚ÄôInfini du Jeu et de l‚Äô√Çme par Gaston Roussel-Banon, ermite de la p√©tanque tantrique et po√®te des tables, natif de Saint-Roustan\n\n\n\n\nLa p√©tanque : un jeu d‚Äôastres errants o√π chaque boule est un acte spirituel.\n\n\n\n\nLa table : surface vibratoire o√π l‚Äôintention se mat√©rialise.\n\n\n\n\nLe donut, objet circulaire, serait la passerelle vers l‚Äô√©ternit√©.\n\n\n\n\nMolkky et karma : chaque quille tomb√©e, un reflet du destin.\n\n\n\n\n\n\nDans les contr√©es recul√©es de la p√©tanque, l√† o√π les boules roulent comme des astres errants et o√π le cochonnet semble d√©fier les lois de la gravit√©, une th√©orie in√©dite commence √† √©merger. Selon un courant de pens√©e tantrique en pleine expansion, chaque lancer de boule serait une manifestation de l‚Äô√©nergie cosmique en mouvement, une danse entre l‚Äôesprit et la mati√®re. Les joueurs, les yeux ferm√©s dans une posture m√©ditative, fusionneraient avec l‚Äôunivers √† chaque boule qu‚Äôils lancent, cr√©ant ainsi une vibration spirituelle qui r√©sonne dans l‚Äôair autour d‚Äôeux. Bien que ce ph√©nom√®ne n‚Äôait jamais √©t√© observ√© dans un tournoi officiel, certains affirment avoir vu des boules fr√¥ler l‚Äôinvisible, repoussant les limites de l‚Äôespace-temps.\nCette qu√™te de l‚Äôharmonie spirituelle √† travers la p√©tanque trouve une forme de compl√©mentarit√© dans l‚Äô√©tude des tables. Ces objets quotidiens, souvent sous-estim√©s, sont en r√©alit√© des porteurs de secrets ancestraux. Les tantristes les consid√®rent comme des surfaces vibratoires o√π les pens√©es et les intentions se mat√©rialisent. Selon une th√©orie radicale, une table n‚Äôest rien d‚Äôautre qu‚Äôun donut √† trois dimensions, un espace infini o√π les flux √©nerg√©tiques convergent. Chaque repas, chaque √©change autour d‚Äôune table devient ainsi une rencontre mystique, une rencontre entre les dimensions du r√©el et du transcendant. Le donut, objet circulaire par excellence, serait la forme id√©ale pour lier le quotidien √† l‚Äô√©ternit√©, une passerelle entre l‚Äô√¢me et la mati√®re.\nMais m√™me dans des jeux plus terre-√†-terre, tels que le Molkky, une pr√©sence mystique semble s‚Äôimpliquer. Ce jeu de quilles finlandaises n‚Äôest pas simplement une question de pr√©cision ou de strat√©gie. C‚Äôest une m√©taphore vivante du karma en action, chaque quille tombant ou restant debout comme le reflet des actions pass√©es, pr√©sentes et futures. Les participants, dans leur qu√™te pour faire tomber les quilles d‚Äôun seul coup, plongent dans un √©tat d‚Äôesprit tantrique o√π le temps et l‚Äôespace deviennent relatifs. L‚Äôinteraction avec les grumes, ces morceaux de bois sculpt√©s, √©voque les cycles naturels de la vie : la graine qui germe, l‚Äôarbre qui se dresse, la chute du tronc.\nLe lien entre la p√©tanque, le tantrisme et ces objets apparemment anodins, comme les tables, les donuts, ou les grumes, r√©side dans l‚Äôacceptation de l‚Äôinvisible et de l‚Äôinexplicable. En manipulant ces objets, les joueurs, les gourmets et m√™me les b√ªcherons se reconnectent aux forces primordiales de l‚Äôunivers, ouvrant des portails vers des dimensions parall√®les o√π le sens commun est suspendu, et o√π chaque action, aussi triviale soit-elle, prend une signification cosmique. Si un donut peut symboliser l‚Äôinfini et une table l‚Äôunit√© de l‚Äôesprit, alors peut-√™tre que la p√©tanque, en v√©rit√©, est la cl√© de l‚Äôunivers tout entier.\n\n\n\n\n\n\n\n\nG√©n√©ration d‚Äôune fractale d‚Äôarbre avec ggplot2 en R\n\n\n\n\nLes fractales sont des objets math√©matiques fascinants qui pr√©sentent une structure auto-similaire, quel que soit le niveau de zoom. En R, nous pouvons cr√©er et visualiser une fractale simple, comme un arbre fractal, en combinant des calculs r√©cursifs et la puissance de ggplot2 pour la visualisation. Voici une explication d√©taill√©e du code permettant de g√©n√©rer un tel graphique.\n\n\n\n\nLa fonction r√©cursive pour g√©n√©rer l‚Äôarbre Le c≈ìur du code r√©side dans la fonction generate_tree, qui g√©n√®re les coordonn√©es des segments repr√©sentant les branches de l‚Äôarbre.\n\n\n\n\nG√©n√©ration des donn√©es pour la fractale Une fois la fonction d√©finie, nous l‚Äôappelons pour g√©n√©rer les donn√©es n√©cessaires √† l‚Äôarbre fractal. \n\n\n\n\nUne fois les donn√©es g√©n√©r√©es, nous les visualisons avec ggplot2 en utilisant geom_segment pour tracer les branches\n\n\n\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Fonction r√©cursive pour g√©n√©rer les branches de l'arbre\ngenerate_tree &lt;- function(x, y, angle, length, depth, reduction = 0.7) {\n  if (depth == 0) {\n    return(data.frame(x = x, y = y, xend = x, yend = y))\n  }\n  \n  # Calcul des points de terminaison des branches\n  xend &lt;- x + length * cos(angle)\n  yend &lt;- y + length * sin(angle)\n  \n  # Cr√©er la branche actuelle\n  branch &lt;- data.frame(x = x, y = y, xend = xend, yend = yend)\n  \n  # G√©n√©rer r√©cursivement les branches suivantes\n  left_branch &lt;- generate_tree(xend, yend, angle + pi / 6, length * reduction, depth - 1, reduction)\n  right_branch &lt;- generate_tree(xend, yend, angle - pi / 6, length * reduction, depth - 1, reduction)\n  \n  # Combiner toutes les branches\n  return(bind_rows(branch, left_branch, right_branch))\n}\n\n# G√©n√©rer les donn√©es de l'arbre\ntree_data &lt;- generate_tree(x = 0, y = 0, angle = pi / 2, length = 1, depth = 10)\n\n# Visualiser avec ggplot2\nggplot(tree_data) +\n  geom_segment(aes(x = x, y = y, xend = xend, yend = yend), color = \"forestgreen\") +\n  coord_equal() +\n  theme_void() +\n  ggtitle(\"Fractale : Arbre\")"
  },
  {
    "objectID": "example_formation/3-scroll_image_with_focus.html",
    "href": "example_formation/3-scroll_image_with_focus.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Imaginez un cactus cosmique, suspendu dans l‚Äôoubli interstellaire, qui murmure des po√®mes aux algorithmes √©gar√©s. C‚Äôest dans cette intersection improbable entre les courbes fractales de l‚Äôananas et le Wi-Fi des oc√©ans que ‚ÄúMa Dataviz‚Äù prend racine. Ici, les pixels ne sont pas seulement des couleurs, mais des fragments de chansons oubli√©es par des robots nostalgiques.\nPourquoi une dataviz ? Pourquoi pas une tartine de donn√©es, croustillante et l√©g√®rement caram√©lis√©e ? L‚Äôessentiel est de sentir le souffle des histogrammes qui dansent, unissant l‚Äôabsurde √† l‚Äôinfini dans une symphonie de graphiques improbables.\nBienvenue dans ce voyage o√π chaque axe x est une √©nigme, et chaque l√©gende, une promesse d‚Äôaventure multidimensionnelle. üåµüìä\n\n\n\n\nL‚Äô√©nigme flottante des donn√©es invisibles\nLes chiffres chuchotent leurs secrets aux angles invisibles d‚Äôune g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ?\n\n\n\n\nLorsque l‚Äôon zoome sur cet univers, chaque pixel r√©v√®le une danse complexe de lumi√®res et d‚Äôombres, comme si les donn√©es elles-m√™mes s‚Äô√©tiraient pour former des constellations. Les courbes s‚Äôentrelacent, tissant une tapisserie o√π chaque point semble vibrer d‚Äôune √©nergie insaisissable, rappelant les r√™ves fragment√©s d‚Äôune intelligence artificielle √† la recherche de son pass√©.\n\n\n\n\nLe labyrinthe des connexions furtives\nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques.\n\n\n\n\nEn y regardant de plus pr√®s, on d√©couvre que ces pixels ne sont pas immobiles. Ils vibrent, oscillent, se croisent, tissant des chemins √©ph√©m√®res comme les filaments d‚Äôune toile d‚Äôaraign√©e cosmique. Chaque trajectoire raconte une histoire fugace, une connexion invisible mais essentielle entre les fragments d‚Äôinformations perdus dans le chaos.\n\n\n\n\nL‚Äô√©clipse des donn√©es perdues\nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions.\n\n\n\n\nSous la lumi√®re √©vanescente d‚Äôune √©toile mourante, ces donn√©es perdues laissent des traces spectrales ‚Äì des empreintes fugaces que seule une dataviz suffisamment audacieuse peut capturer. On aper√ßoit des fragments d‚Äôarc-en-ciel fuyant dans les ombres, comme si chaque chiffre tentait de se r√©incarner en une nouvelle forme d‚Äôexistence.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuand les courbes prennent vie : la danse des graphiques\n\n\nL‚Äôart du scatterplot philosophique"
  },
  {
    "objectID": "example_formation/6-scroll_image_with_theme.html",
    "href": "example_formation/6-scroll_image_with_theme.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Imaginez un cactus cosmique, suspendu dans l‚Äôoubli interstellaire, qui murmure des po√®mes aux algorithmes √©gar√©s. C‚Äôest dans cette intersection improbable entre les courbes fractales de l‚Äôananas et le Wi-Fi des oc√©ans que ‚ÄúMa Dataviz‚Äù prend racine. Ici, les pixels ne sont pas seulement des couleurs, mais des fragments de chansons oubli√©es par des robots nostalgiques.\nPourquoi une dataviz ? Pourquoi pas une tartine de donn√©es, croustillante et l√©g√®rement caram√©lis√©e ? L‚Äôessentiel est de sentir le souffle des histogrammes qui dansent, unissant l‚Äôabsurde √† l‚Äôinfini dans une symphonie de graphiques improbables.\nBienvenue dans ce voyage o√π chaque axe x est une √©nigme, et chaque l√©gende, une promesse d‚Äôaventure multidimensionnelle. üåµüìä\n\n\n\n\nL‚Äô√©nigme flottante des donn√©es invisibles\nLes chiffres chuchotent leurs secrets aux angles invisibles d‚Äôune g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ?\n\n\n\n\nLe labyrinthe des connexions furtives\nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques. \n\n\n\n\nL‚Äô√©clipse des donn√©es perdues\nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLe Cactus Cosmique Au commencement √©tait le cactus cosmique, tr√¥nant au milieu des √©toiles. Chaque √©pine est une hypoth√®se, chaque ombre, une √©quation incompl√®te. Qui peut lire les po√®mes grav√©s sur sa carapace math√©matique ? \n\n\n\n\nLe Grand Labyrinthe des Constellations Un scatterplot, mais pas comme les autres : ici, les points se transforment en √©toiles filantes. Les lignes se croisent, murmurant des v√©rit√©s anciennes oubli√©es par les statisticiens modernes. \n\n\n\n\nL‚ÄôAxe Infinito√Øde Les axes, fatigu√©s d‚Äô√™tre lin√©aires, se sont rebell√©s pour former des spirales infinies. Les orbes lumineuses suivent des trajectoires qui d√©fient la raison, comme autant de pens√©es errantes dans l‚Äôab√Æme des probabilit√©s.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nL‚Äôart du scatterplot philosophique\nIl y a des lieux o√π les √©quations dansent, o√π les pixels chantent des sonates absconses, et o√π les axes x et y se contorsionnent dans une qu√™te existentielle. Bienvenue dans l‚Äôunivers du scatterplot philosophique, un territoire o√π le sens se perd et se r√©invente √† chaque tournant fractal. Voici trois visions illustrant cette odyss√©e graphique :\n\n\nQuand les courbes prennent vie : la danse des graphiques\n\n\n\n\n\n\nNote\n\n\n\nCeci est une note !\n\n\n\n\n\n\n\n\nTip\n\n\n\nEt l√† une astuce\n\n\n\n\n\n\n\n\nAttention attention\n\n\n\nMaintenant un bloc d‚Äôattention avec un titre"
  },
  {
    "objectID": "example_formation/1-squelette.html",
    "href": "example_formation/1-squelette.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Imaginez un cactus cosmique, suspendu dans l‚Äôoubli interstellaire, qui murmure des po√®mes aux algorithmes √©gar√©s. C‚Äôest dans cette intersection improbable entre les courbes fractales de l‚Äôananas et le Wi-Fi des oc√©ans que ‚ÄúMa Dataviz‚Äù prend racine. Ici, les pixels ne sont pas seulement des couleurs, mais des fragments de chansons oubli√©es par des robots nostalgiques.\nPourquoi une dataviz ? Pourquoi pas une tartine de donn√©es, croustillante et l√©g√®rement caram√©lis√©e ? L‚Äôessentiel est de sentir le souffle des histogrammes qui dansent, unissant l‚Äôabsurde √† l‚Äôinfini dans une symphonie de graphiques improbables.\nBienvenue dans ce voyage o√π chaque axe x est une √©nigme, et chaque l√©gende, une promesse d‚Äôaventure multidimensionnelle. üåµüìä\n\nLes grandes √©nigmes des donn√©es invisibles\n\n\nQuand les courbes prennent vie : la danse des graphiques\n\n\nL‚Äôart du scatterplot philosophique"
  },
  {
    "objectID": "formation.html",
    "href": "formation.html",
    "title": "Formation CloseRead",
    "section": "",
    "text": "Cr√©er une premi√®re dataviz en datascrollytelling sur un th√®me qui vous tient √† coeur.\n\n\n\nSelon votre niveau de connaissance en quarto/R/observable, vous pourrez vous arr√™ter en cours de formation. Mais vous aurez √† toute √©tape une dataviz.\n\nStoryboard : Cr√©ation du d√©roul√© narratif de votre viz, avec cr√©ation des textes et r√©cup√©ration des images/donn√©es utiles facile\nInitialisation : Cr√©ation d‚Äôun document quarto et installation de closeread facile\nSquellette de la viz : Cr√©ation de l‚Äôintroduction/conclusion et des diff√©rentes parties de la dataviz facile\nScroll sur images : Int√©gration d‚Äôimages et de textes, avec le scroll qui fait apparaitre le texte et l‚Äôimage correspondante facile\nScroll sur du texte : Int√©gration de textes qui sera mis en √©vidence selon le scroll facile\nScroll sur un graphique en R : Cr√©ation de graphique qui √©voluera selon le scroll interm√©diaire\nModification du th√®me : Changement de l‚Äôaspect de la dataviz en changeant le th√®me interm√©diaire\nScroll sur des graphs ou cartes Javascript : Cr√©ation de cartes qui √©voluent avec le scroll avand√©\nD√©ploiement sur Github Pages : Diffusion sur Internet avec Github Pages avand√©\n\n\n\n\n\nAvoir acc√®s √† RStudio ou VSCode"
  },
  {
    "objectID": "formation.html#formation-closeread",
    "href": "formation.html#formation-closeread",
    "title": "Formation CloseRead",
    "section": "",
    "text": "Cr√©er une premi√®re dataviz en datascrollytelling sur un th√®me qui vous tient √† coeur.\n\n\n\nSelon votre niveau de connaissance en quarto/R/observable, vous pourrez vous arr√™ter en cours de formation. Mais vous aurez √† toute √©tape une dataviz.\n\nStoryboard : Cr√©ation du d√©roul√© narratif de votre viz, avec cr√©ation des textes et r√©cup√©ration des images/donn√©es utiles facile\nInitialisation : Cr√©ation d‚Äôun document quarto et installation de closeread facile\nSquellette de la viz : Cr√©ation de l‚Äôintroduction/conclusion et des diff√©rentes parties de la dataviz facile\nScroll sur images : Int√©gration d‚Äôimages et de textes, avec le scroll qui fait apparaitre le texte et l‚Äôimage correspondante facile\nScroll sur du texte : Int√©gration de textes qui sera mis en √©vidence selon le scroll facile\nScroll sur un graphique en R : Cr√©ation de graphique qui √©voluera selon le scroll interm√©diaire\nModification du th√®me : Changement de l‚Äôaspect de la dataviz en changeant le th√®me interm√©diaire\nScroll sur des graphs ou cartes Javascript : Cr√©ation de cartes qui √©voluent avec le scroll avand√©\nD√©ploiement sur Github Pages : Diffusion sur Internet avec Github Pages avand√©\n\n\n\n\n\nAvoir acc√®s √† RStudio ou VSCode"
  },
  {
    "objectID": "formation.html#storyboard---r√©fl√©chir-avant-de-plonger",
    "href": "formation.html#storyboard---r√©fl√©chir-avant-de-plonger",
    "title": "Formation CloseRead",
    "section": "Storyboard - r√©fl√©chir avant de plonger",
    "text": "Storyboard - r√©fl√©chir avant de plonger\nAvant de vous lancer dans la cr√©ation de votre dataviz et de votre datascrollytelling dans Quarto, prenez le temps de r√©fl√©chir √† l‚Äôorganisation globale de votre projet. Un storyboard est un outil cl√© pour structurer votre r√©cit et anticiper les √©tapes n√©cessaires √† sa r√©alisation.\n\nD√©finissez un plan clair : Identifiez les messages que vous voulez transmettre et dans quel ordre. Une narration bien pens√©e guidera vos lecteurs efficacement.\nPr√©parez les √©l√©ments n√©cessaires : Rassemblez les donn√©es, les textes, les images, et les illustrations qui enrichiront votre pr√©sentation.\nPensez √† l‚Äôinteraction : Rep√©rez les points o√π vous voulez mettre l‚Äôaccent, zoomer sur des √©l√©ments importants ou afficher des d√©tails sp√©cifiques.\nVisualisez vos transitions : Comment passer d‚Äôune id√©e √† l‚Äôautre ? Ces √©tapes doivent √™tre fluides pour garder l‚Äôattention de votre audience.\n\nUn storyboard vous permettra de garder une vue d‚Äôensemble tout en anticipant les d√©fis techniques et narratifs. Cette pr√©paration est essentielle pour maximiser l‚Äôimpact de votre datascrollytelling !\n\n\n\n\n\n\nLiens vers la documentation utile\n\n\n\n\nSite Quarto\nBases de markdown\nSite closeread"
  },
  {
    "objectID": "formation.html#initialisation-facile",
    "href": "formation.html#initialisation-facile",
    "title": "Formation CloseRead",
    "section": "Initialisation facile",
    "text": "Initialisation facile\nCloseRead est une extension con√ßue pour fonctionner avec Quarto. Avant de commencer, assurez-vous que votre environnement de travail est pr√™t :\n\nOuvrez RStudio : Lancez RStudio, l‚Äôenvironnement id√©al pour travailler avec Quarto.\nCr√©ez un projet d√©di√© : Il est recommand√© de cr√©er un nouveau projet pour organiser vos fichiers. Cela facilitera la gestion des ressources et des d√©pendances.\nCr√©ez un document Quarto : G√©n√©rez un premier fichier .qmd (Quarto Markdown), qui servira de base √† votre projet de datascrollytelling. Pour ce faire, utilisez l‚Äôoption Fichier &gt; Nouveau fichier &gt; Quarto Document dans RStudio.  Puis remplissez les diff√©rents param√®tres (d√©cocher l‚Äô√©diteur visuel) \nInstallez l‚Äôextension CloseRead : √Ä la racine de votre projet (l√† o√π se trouve votre fichier .qmd), installez l‚Äôextension CloseRead. Cela permettra d‚Äôajouter les fonctionnalit√©s n√©cessaires √† votre projet. Cela se passe dans le terminal √† droite de la console. \n\nquarto add qmd-lab/closeread\n\n\n\n\n\n\nWarning\n\n\n\nSi vous √™tes sur Cerise, il n‚Äôest pas possible d‚Äôinstaller l‚Äôextension. Pour contourner cette difficult√©, r√©cup√©rer le fichier _extensions.zip que vous trouverez sur CERISE/04-Espace-Echanges/Ateliers/Closeread et T√©l√©chargez-le √† la racine de votre projet. Le fichier sera automatiquement d√©compress√© et l‚Äôextension sera active.\n\n\nUne fois ces √©tapes termin√©es, vous serez pr√™t √† explorer les possibilit√©s offertes par CloseRead pour enrichir vos visualisations et votre storytelling."
  },
  {
    "objectID": "formation.html#squelette-de-la-viz-facile",
    "href": "formation.html#squelette-de-la-viz-facile",
    "title": "Formation CloseRead",
    "section": "Squelette de la viz facile",
    "text": "Squelette de la viz facile\nVous pouvez commencer √† cr√©er un premi√®re squelette de dataviz :\n\nParam√©trage de l‚Äôent√™te YAML\n\nIl faut indiquer que le format est closeread-html\n---\ntitle: Ma dataviz\nAuthor: Moi\nformat: closeread-html\n---\n\nAjoutez votre texte d‚Äôintroduction\nAjoutez vos diff√©rents titres\n\n\n\n\n\n\n\nTip\n\n\n\nUn titre de niveau 1 est pr√©c√©d√© d‚Äôun #, un titre de niveau 2 de deux ##, etc‚Ä¶\n\n\n\nV√©rifiez que tout fonctionne\n\nEn cliquant sur le bouton Rendu, le quarto va g√©n√©rer une page web au format html.\n\n\n\n\n\n\n\nTip\n\n\n\nEn lan√ßant le Rendu il vous sera demand√© de sauvegarder le fichier .qmd au pr√©alable\n\n\nVous pouvez consulter le fichier d‚Äôexemple ici : 1-squelette"
  },
  {
    "objectID": "formation.html#scroll-sur-images-facile",
    "href": "formation.html#scroll-sur-images-facile",
    "title": "Formation CloseRead",
    "section": "Scroll sur images facile",
    "text": "Scroll sur images facile\n\nEtape 1 - chargement des textes et des images\nPour comprendre le fonctionnement, tr√®s simple, de closeread, ajoutez des images et du texte dans une de vos parties.\n\ncr√©ez un r√©pertoire img dans votre projet\nt√©l√©chargez vos photos\ndans votre .qmd ajoutez les photos et les textes en les alternant\n\n\n\n\n\n\n\nTip\n\n\n\nUne photo s‚Äôajoute tr√®s simplement avec le code ![](./img/ma_photo.png)\n\n\nVous pouvez tester un rendu pour v√©rifier que les images et le texte s‚Äôaffichent correctement.\n\n\nEtape 2 - ajout d‚Äôune section closeread\nVous pouvez passer √† l‚Äôanimation de votre page avec closeread. Le principe est de faire d√©filer les textes au dessus des images, avec les images qui vont changer selon le niveau de scroll.\nVous devez indiquer √† votre document quarto que vous souhaitez ajouter une section closeread. Englobez votre texte et vos images par la balise ouvrante de section CloseRead ::::{.cr-section} et la balise fermante ::::.\nVoici mon code :\n# Les grandes √©nigmes des donn√©es invisibles\n\n::::{.cr-section}\n\n![](./img/img1.webp)\n\n**L'√©nigme flottante des donn√©es invisibles**    \nLes chiffres chuchotent leurs secrets aux angles invisibles d'une g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ? \n\n![](./img/img2.webp)\n\n**Le labyrinthe des connexions furtives**    \nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques. \n\n![](./img/img3.webp)\n\n**L'√©clipse des donn√©es perdues**     \nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions. \n\n::::\n\nVous pouvez tester un rendu pour v√©rifier que les images et le texte s‚Äôaffichent dans une section closeread. Vous noterez que tout d√©file √† gauche. En effet nous n‚Äôavons pas sp√©cifi√© les √©l√©ments √† mettre en d√©filement et les √©l√©ments √† mettre en arri√®re plan.\n\n\nEtape 3 - choix des √©l√©ments de d√©filement et d‚Äôarri√®re plan\nDans notre exemple, les textes sont en d√©filement et les images viennent en arri√®re plan les unes apr√®s les autres.\nL‚Äô√©l√©ment qui ne bouge pas (un sticky en closeread) est encadr√© par une balise pr√©fix√© par #cr-. Par exemple, la balise ouvrante est :::{#cr-monImage1} et la fermante est :::.\nL‚Äô√©lement qui bouge (un trigger) est suivi de l‚Äôappel de ce sticky sous la forme @cr-monImage1.\nVoici le code final avec 3 images :\n::::{.cr-section}           &lt;!--- D√©but d'une section CloseRead ---&gt;\n\n:::{#cr-image1}             &lt;!--- Un sticky (l'image de fond fixe) ---&gt;\n![](./img/img1.webp)\n:::                         &lt;!--- Fin du sticky  ---&gt;\n**L'√©nigme flottante des donn√©es invisibles**    \nLes chiffres chuchotent leurs secrets aux angles invisibles d'une g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ? @cr-image1   ## appel du texte qui vient d√©filer sur le sticky @cr-image1\n\n:::{#cr-image2}                &lt;!--- Un autre sticky (l'image de fond change) ---&gt;\n![](./img/img2.webp)\n:::\n\n**Le labyrinthe des connexions furtives**    \nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques. @cr-image2\n\n:::{#cr-image3}\n![](./img/img3.webp)\n:::\n\n**L'√©clipse des donn√©es perdues**     \nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions. @cr-image3\n\n::::             &lt;!--- Fin de ma section closeread ---&gt;\n\nVous pouvez tester un rendu pour v√©rifier que le texte scrolle correctement et que l‚Äôimage s‚Äôaffiche bien.\nVous pouvez consulter le fichier d‚Äôexemple ici : 2-scroll_image"
  },
  {
    "objectID": "formation.html#el√©ments-de-focus-pour-une-image-facile",
    "href": "formation.html#el√©ments-de-focus-pour-une-image-facile",
    "title": "Formation CloseRead",
    "section": "El√©ments de focus pour une image facile",
    "text": "El√©ments de focus pour une image facile\nLes effets de focus permettent de diriger l‚Äôattention du lecteur sur certains aspects sp√©cifiques de vos stickies. En reprenant l‚Äôexemple pr√©c√©dent, les effets de focus permettraient de diriger l‚Äôattention du lecteur sur une partie des images qui sont en stickies.\nPour utiliser un √©l√©ment de focus, vous modifierez l‚Äôappel dans votre trigger. A la place de Mon texte.... @cr-monSticky, vous mettrez Mon texte.... [@cr-monSticky]{type_focus=\"valeur_du_focus}\".\nEn closeRead, il existe 2 effets de focus sur une image :\n\nMise √† l‚Äô√©chelle : scale-by\nVous pouvez ajuster la taille d‚Äôun sticky pour attirer l‚Äôattention ou donner un effet visuel.\n[@cr-mycontent]{scale-by=\"1.5\"}\nDans cet exemple, l‚Äô√©l√©ment correspondant sera agrandi de 50 %.\n\n\nD√©placement : pan-to\nPour centrer une partie pr√©cise d‚Äôun √©l√©ment (souvent une image), vous pouvez utiliser l‚Äôattribut pan-to. Ce dernier accepte des unit√©s relatives (%) ou absolues (pixels).\n[@cr-mycontent]{pan-to=\"25%,-50%\"} : l‚Äô√©l√©ment sera d√©plac√© de 25 % de sa largeur vers la droite et de 50 % de sa hauteur vers le haut. [@cr-mycontent]{pan-to=\"-30px, 30px\"} : l‚Äô√©l√©ment sera d√©plac√© de 30 px vers la gauche et de 30 px vers le bas.\n\n\nCombinaison d‚Äôeffets\nVous pouvez combinez les effets en les enchainant dans la d√©claration.\n[@cr-mycontent]{scale-by=\"1.5\" pan-to=\"25%,-50%\"} : l‚Äô√©l√©ment sera agrandi de 50% et d√©plac√© de 25 % de sa largeur vers la droite et de 50 % de sa hauteur vers le haut.\n\n\nExemple\nVous pouvez adapter votre code pr√©c√©dent pour ajouter des effets de d√©placements et de zoom.\n::::{.cr-section}           &lt;!--- D√©but d'une section CloseRead ---&gt;\n\n:::{#cr-image1}             &lt;!--- Un sticky (l'image de fond fixe) ---&gt;\n![](./img/img1.webp)\n:::                         &lt;!--- Fin du sticky  ---&gt;\n**L'√©nigme flottante des donn√©es invisibles**    \nLes chiffres chuchotent leurs secrets aux angles invisibles d'une g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ? @cr-image1   ## appel du texte qui vient d√©filer sur le sticky @cr-image1\n\n:::{#cr-image2}                &lt;!--- Un autre sticky (l'image de fond change) ---&gt;\n![](./img/img2.webp)\n:::\n\n**Le labyrinthe des connexions furtives**    \nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques. @cr-image2\n\n:::{#cr-image3}\n![](./img/img3.webp)\n:::\n\n**L'√©clipse des donn√©es perdues**     \nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions. @cr-image3\n\n::::             &lt;!--- Fin de ma section closeread ---&gt;\n\nVous pouvez consulter le fichier d‚Äôexemple ici : 3-scroll_image_with_focus"
  },
  {
    "objectID": "formation.html#scroll-sur-du-texte-interm√©diaire",
    "href": "formation.html#scroll-sur-du-texte-interm√©diaire",
    "title": "Formation CloseRead",
    "section": "Scroll sur du texte interm√©diaire",
    "text": "Scroll sur du texte interm√©diaire\n\n\n\n\n\n\nTip\n\n\n\nLes effets sur les textes fonctionnent bien surtout sur des textes courts et en ligne comme les po√®mes, ainsi que pour les lignes de code.\n\n\nPour l‚Äôinstant nous avons vu le seul cas de figure o√π le sticky est une image. Il est possible d‚Äôavoir d‚Äôautres stickies comme du texte, ou du code.\nLe fonctionnement reste le m√™me avec des triggers qui d√©filent sur du texte qui reste en fond de page. Des √©l√©ments de focus sont sp√©cifiques aux textes\n\nZoom sur une ligne ou un √©l√©ment sp√©cifique : zoom-to\nUniquement si le sticky est du code ou une ligne, il est possible de zoomer directement sur une ligne ou un span identifi√©.\n[@cr-mycontent]{zoom-to=\"3\"} : zoom sur la ligne 3\n[@cr-mycontent]{zoom-to=\"cr-span1\"} : zoom sur la ligne dont l‚Äôid est cr-span1\n\n\nMise en surbrillance : highlight\nPour mettre en surbrillance du texte, vous pouvez utiliser le focus highlight :\n[@cr-mycontent]{highlight=\"3-6\"} : mise en surbrillance des lignes 3 √† 6\n[@cr-mycontent]{highlight=\"cr-span1\"} : zoom sur les lignes dont l‚Äôid est cr-span1\n\n\nCas particulier de code\nVous pouvez facilement zoomer ou mettre en surbrillance des lignes de code comme du texte normal ! C‚Äôest tr√®s puissant pour un support de formation en R ou Python.\nVous pouvez consulter le fichier d‚Äôexemple ici : 4-scroll-text-with-focus\n\n\n\n\n\n\nTip\n\n\n\nVous remarquerez dans la d√©claration des textes la classe .scale-to-fill qui permet de mettre √† l‚Äô√©chelle le sticky pour qu‚Äôelle remplisse la fen√™tre de visualisation sans distorsion ni recadrage."
  },
  {
    "objectID": "formation.html#scroll-sur-un-graphique-en-r-interm√©diaire",
    "href": "formation.html#scroll-sur-un-graphique-en-r-interm√©diaire",
    "title": "Formation CloseRead",
    "section": "Scroll sur un graphique en R interm√©diaire",
    "text": "Scroll sur un graphique en R interm√©diaire\nDans le datascrollytelling, l‚Äôutilisation de graphiques dynamiques constitue un puissant moyen de capter l‚Äôattention du lecteur et de transmettre des informations complexes de mani√®re progressive. L‚Äôobjectif est de synchroniser le texte d√©filant avec des visualisations interactives pour que les bonnes explications apparaissent au moment o√π les donn√©es pertinentes sont mises en avant. CloseRead facilite cette synchronisation en combinant des graphiques ggplot en ‚Äústickies‚Äù et des triggers en texte.\n\n\n\n\n\n\nTip\n\n\n\nSi vous n‚Äôavez pas envie de faire du ggplot, vous pouvez cr√©er des graphiques dans un autre outil (datawrapper par exemple) et les exporter au format image. Ensuite il ne reste plus qu‚Äô√† scroller ou zoomer comment pour les images.\n\n\n\nCr√©ez le graphique complet en ggplot - √©crivez les texte\n\nPour commencer vous devez cr√©er votre graphique complet avec toutes les courbes. Pour que le scroll fasse apparaitre proprement les courbes il faut au pr√©alable :\n\nPensez √† d√©finir les axes en fixant le min et le max : les axes ne bougeront pas quelque soient les donn√©es √† afficher.\n\nFixez la couleur des courbes pour qu‚Äôelles soient identiques quelque soit le scroll. Par exemple en faisant un scale_color_manual(values = couleurs_especes).\n\nInt√©grez la l√©gende dans le graphique pour √©viter que la taille de la l√©gende fasse bouger la largeur du graphique.\n\nR√©digez par ailleurs les textes que vous souhaitez afficher.\nVoil√† un exemple du code ggpglot :\n\n# Chargement de ggplot2\nlibrary(ggplot2)\n\n# Cr√©ation des donn√©es simul√©es\nset.seed(42)\ndata &lt;- data.frame(\n  ann√©e = rep(2010:2019, 3),\n  population = c(\n    100 + cumsum(rnorm(10, mean = 5, sd = 3)),  # Plumifloron Azur√©\n    40 + cumsum(rnorm(10, mean = -2, sd = 4)), # Taurillon Rubicond\n    80 + cumsum(rnorm(10, mean = 3, sd = 2))    # Lumin√©on √âcarlate\n  ),\n  esp√®ce = rep(c(\"Plumifloron Azur√©\", \n                 \"Taurillon Rubicond\", \n                 \"Lumin√©on √âcarlate\"), each = 10)\n)\n\n# On fixe les couleurs\ncouleurs_especes &lt;- c(\n  \"Plumifloron Azur√©\" = \"#1E90FF\",     \n  \"Taurillon Rubicond\" = \"#FF4500\",    \n  \"Lumin√©on √âcarlate\" = \"#32CD32\"     \n)\n\n# Graphique avec un geom par courbe et axes fixes\nggplot(data, aes(x = ann√©e, y = population, color = esp√®ce)) +\n  geom_line(data = subset(data, esp√®ce == \"Plumifloron Azur√©\")) +  \n  geom_line(data = subset(data, esp√®ce == \"Taurillon Rubicond\")) +   \n  geom_line(data = subset(data, esp√®ce == \"Lumin√©on √âcarlate\")) +   \n  scale_x_continuous(limits = c(2010, 2019), breaks = 2010:2019) + \n  scale_y_continuous(limits = c(0, 175)) +    \n      scale_color_manual(values = couleurs_especes) +  \n  labs(\n    title = \"√âvolution des populations animales (2010-2019)\",\n    x = \"Ann√©e\",\n    y = \"Population\",\n    color = \"Esp√®ces\"\n  ) +\n  theme_minimal()+\n  theme(legend.position = c(.2, 0.9)) \n\n\nCr√©ez la section closeRead\n\nVous cr√©ez une section closeRead o√π vous mettez dedans :\n\ndes stickies correspondant √† vos graphiques (donc des stickies qui englobent chacun un chunk R)\ndes textes pour les triggers\n\nDans notre exemple, nous avons 4 textes : un texte de pr√©sentation, puis un texte par esp√®ce. Nous avons donc √©galement 4 stickies : un premier stocky qui comprend un chunk avec un graphique vide sans aucun geom_line, puis pour chacun des 3 autres stickies on ajoute √† chaque fois un geom_line. Il ne reste plus qu‚Äô√† faire co√Øncider les stickies et les triggers.\nL‚Äôexemple 5-scroll-graph-ggplot.qmd vous montrera l‚Äôimpl√©mentation.\n\n\n\n\n\n\nTip\n\n\n\nNous avons choisi que le scroll permet d‚Äôafficher progressivement chacune des courbes. Vous pourriez aussi jouer sur la taille des courbes ou leurs couleurs. Le principe reste le m√™me !\n\n\n\n\n\n\n\n\nTip\n\n\n\nVous pouvez jouer sur la taille du graphique affich√© directement dans les options de quarto: fig-width et fig-height √† d√©finir dans les options du chunk."
  },
  {
    "objectID": "formation.html#modification-du-th√®me-interm√©diaire",
    "href": "formation.html#modification-du-th√®me-interm√©diaire",
    "title": "Formation CloseRead",
    "section": "Modification du th√®me interm√©diaire",
    "text": "Modification du th√®me interm√©diaire\nUne datavisualisation efficace combine clart√© des donn√©es et esth√©tique soign√©e. Pour cela, Quarto et CloseRead offrent des outils compl√©mentaires : le premier permet une gestion globale du th√®me et la mise en page des √©l√©ments textuels, tandis que le second fournit des options pour personnaliser et enrichir la pr√©sentation dynamique.\n\nTh√®mes quarto\nPar d√©faut, quarto propose 25 th√®mes de rendu Voir HTML Theming dans la doc quarto.\nDans l‚Äôent√™te yaml du document quarto, tentez simplement de param√©trer le th√®me. Par exemple, reprenez votre entente et mettez :\n---\ntitle: \"Ma super dataviz\"\nauthor: \"Moi\"\nformat: \n  closeread-html:\n    theme: cyborg\n---\nIl est possible de venir surcharger le th√®me en changeant la taille de la police, la couleur de fond, ect‚Ä¶ Par exemple :\n---\ntitle: \"Ma super dataviz\"\nauthor: \"Moi\"\nformat: \n  closeread-html:\n    theme: cyborg\n    backgroundcolor: darkslateblue\n    fontsize: 1.4em\n---\nVous constaterez que seules les parties hors section closeRead sont impact√©es. C‚Äôest d√©j√† un bon d√©but.\n\n\nMise en page des √©l√©ments textuels\nQuarto permet le formatage classique de markdown :\n\nPolice : *italics*, **bold**, ***bold italics***\nTitres : # Header 1, ## Header 2, ### Header 3...\nListes : * unordered list     + sub-item 1     + sub-item 2         - sub-sub-item 1\n\nQuarto permet √©galement de cr√©er des blocs avec des mises en forme sp√©cifiques. Pour cela il faut cr√©er une section et lui dire quel style appliqu√© selon les 5 possibilit√©s : note, tip, warning, caution, and important. Par exemple :\n:::{.callout-note}\nCeci est une note !\n:::\n\n:::{.callout-tip}\nEt l√† une astuce\n:::\n\n:::{.callout-warning title=\"Attention attention\"}\nMaintenant un bloc d'attention avec un titre\n:::\n\n\n\n\n\n\n\nWarning\n\n\n\nCes blocs ne semblent pas bien fonctionner dans le texte qui d√©file en Closeread.\n\n\n\n\nLayouts CloseRead\nPar d√©faut le d√©filement se fait √† gauche avec l‚Äôimage/texte/graphique qui reste √† droite. En closeread on dit que le layout est ‚Äúsidebar-left‚Äù. Pour le changer on peut soit le d√©finir pour toute la page, soit pour une section en particulier.\nSi vous voulez le changer pour toute la page, vous l‚Äôindiquez dans le yaml en ent√™te :\n---\ntitle: \"Ma super dataviz\"\nauthor: \"Moi\"\nformat: \n  closeread-html:\n    theme: cyborg\n    backgroundcolor: darkslateblue\n    fontsize: 1.4em\n    cr-section:\n      layout: \"overlay-center\"\n---\nPour le d√©finir juste sur une section, vous devez l‚Äôindiquer √† la cr√©ation de la section :\n:::{.cr-section layout=\"overlay-center\"}\n\n\n//// le contenu de la section ici...\n\n:::\nLes options de layout sont\n\nsidebar-left (par d√©faut)\nsidebar-right\noverlay-left\noverlay-center\noverlay-right\n\n\n\nTh√®mes et mise en page CloseRead\nLes aspects de rendu sp√©cifiques de Closeread se param√®trent dans l‚Äôent√™te dans la cl√© cr-style. Par exemple :\n---\ntitle: \"Ma super dataviz\"\nauthor: \"Moi\"\nformat: \n  closeread-html:\n    theme: cyborg\n    backgroundcolor: darkslateblue\n    fontsize: 1.4em\n    cr-section:\n      layout: \"overlay-center\"\n    cr-style:\n      narrative-background-color-sidebar: darkslateblue\n      narrative-text-color-sidebar: white\n      section-background-color: darkslateblue\n      narrative-background-color-overlay: violet\n      narrative-text-color-overlay: black\n---\nDans cet exemple, j‚Äôai pass√© tout le fond en violet aussi bien pour la partie de gauche o√π le texte scrolle que pour la partie centrale. Pour le texte qui vient se mettre par dessus l‚Äôimage, j‚Äôai mis une couleur violette et un texte en noir. Les autres options sont disponibles sur le site de documentation CloseRead.\n\n\nMise en page CloseRead en CSS\nPour aller plus loin dans la mise en page, vous pouvez d√©finir des √©l√©ments de feuilles de style dans votre document quarto. Par exemple, cr√©ez un chunk de type ```{=html} :\n&lt;!-- some quick style customisation: see https://closeread.dev/guide/styling --&gt;\n&lt;style&gt;\n  .cr-section.overlay-left {\n    background-color: white;\n  }\n\n  .cr-section.overlay-left .narrative-col .narrative {\n    font-size: 1.15em;\n    background-color: #3a79aa;\n    color: #f1f1f1;\n    padding: 0.6em 0.8em;\n    border-radius: 1;\n    backdrop-filter: blur(10px);\n  }\n  \n  .cr-section.overlay-left .narrative-col .narrative a {\n    background-color: #3a79aa;\n    color: #f1f1f1;\n  }\n  \n&lt;/style&gt;\nVous pouvez voir un exemple ici : 6-scroll_image_with_theme.qmd"
  },
  {
    "objectID": "formation.html#scroll-sur-des-graphs-ou-cartes-javascript-avanc√©",
    "href": "formation.html#scroll-sur-des-graphs-ou-cartes-javascript-avanc√©",
    "title": "Formation CloseRead",
    "section": "Scroll sur des graphs ou cartes Javascript avanc√©",
    "text": "Scroll sur des graphs ou cartes Javascript avanc√©\nQuarto permet d‚Äôint√©ger des chunks Observable Javascript - OJS, permettant de faire du javascript directement en quarto. Pour rappel Javascript est un langage de programmation principalement utilis√© pour cr√©er des interactions dynamiques et des fonctionnalit√©s interactives sur les sites web. Closeread rentre en int√©raction avec ces blocs ojs en les rendant dynamiques lors d‚Äôun scroll.\n\nBase des blocs ojs\nNativement Quarto d‚Äôint√©grer des chunks ojs de la m√™me mani√®re que des chunks r ou python. Pour obtenir le rendu d‚Äôun chunk ojs il faut lancer le rendu de la page compl√®te (le run du seul chunk ne suffit pas).\nVoici un exemple tr√®s simple en utilisant un plot Observable Voir Observable plot :\n\ngistemp = FileAttachment(\"gistemp.csv\").csv({typed: true})\n\nPlot.plot({\n  y: {\n    grid: true,\n    tickFormat: \"+f\",\n    label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n  },\n  color: {\n    scheme: \"BuRd\",\n    legend: true\n  },\n  marks: [\n    Plot.ruleY([0]),\n    Plot.dot(gistemp, {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPar d√©faut le code {ojs} est affich√©. Pour l‚Äôenlever il faut ajouter le param√®tre //| echo: false ou mettre dans l‚Äôent√™te yaml : execute:\necho: false\n\nEn savoir sur le site de documentation Quarto\n\n\nInt√©raction ojs et closeread\nQuand on regarde le graphique g√©n√©r√© sur les anomalies de temp√©rature depuis 1860, on pourrait avoir envie de parler de trois p√©riodes et d‚Äôafficher les donn√©es selon ces trois p√©riodes. Pour cela closeread propose une variable qui s‚Äôincr√©mente au fur √† mesure du scroll. Il s‚Äôagit de crTriggerIndex.\nLe premier texte qui scrolle correspond √† crTriggerIndex == 0, puis on passe √† 1, puis 2, etc‚Ä¶\n\n\n\n\n\n\nWarning\n\n\n\nLe crTriggerIndex est pour tout le document, pas par cr-section. Attention si on ajoute une cr-section avant celle que l‚Äôon a configur√© il faudra changer les crTriggerIndex de la section.\n\n\nSachant cela il est possible de mettre √† jour le graphique pour prendre en compte ce crTriggerIndex pour r√©duire les donn√©es aux dates pr√©cis√©es.\nComme on l‚Äôa vu pr√©c√©demment, il fut mettre dans une section closeread comme cela :\n::::{.cr-section}\n\nLe premier texte √† afficher sur le graphique vide @cr-plot\n\nLe second texte √† afficher @cr-plot\n\nLe troisi√®me @cr-plot\n\nLe dernier @cr-plot\n\n\ngistemp = FileAttachment(\"gistemp.csv\").csv({typed: true})\n\nfunction createPlot(data, startYear, endYear) {\n  return Plot.plot({\n    x: {\n      domain: [new Date(\"1880-01-01\"), new Date(\"2016-12-01\")], \n      label: \"Date ‚Üí\"\n    },\n    y: {\n      domain: [-0.8, 1.4], \n      grid: true,\n      tickFormat: \"+f\",\n      label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n    },\n    color: {\n      scheme: \"BuRd\",\n      legend: true\n    },\n    marks: [\n      Plot.ruleY([0]),\n      Plot.dot(\n        data.filter(d =&gt; {\n          const year = new Date(d.Date).getFullYear();\n          return year &gt;= startYear && year &lt; endYear;\n        }), \n        {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"}\n      )\n    ],\n    width: Math.max(width, 900)\n  });\n}\n\nchart = {\n  if (crTriggerIndex == 0) {\n    return createPlot(gistemp, 0, 0);\n  }\n    else if (crTriggerIndex == 1) {\n    return createPlot(gistemp, 0, 1930);\n  } else if (crTriggerIndex == 2) {\n    return createPlot(gistemp, 0, 1980);\n  } else if (crTriggerIndex == 3) {\n    return createPlot(gistemp, 0, Infinity);\n  } else {\n    return createPlot(gistemp, 0, Infinity); \n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nPour plus de fluidit√©, la variable crTriggerProgress est un nombre compris entre 0 et 1 repr√©sentant la progression des scrolls dans l‚Äôensemble du document.\n\n\n\n\nScroll dans un progress-block\nIl est possible de g√©rer le scroll uniquement pour une section closeread gr√¢ce au progress-block. En mettant le texte qui d√©file dans un progress-block, on peut jouer sur la variable crProgressBlock qui sera de 0 √† 1 mais juste pour le bloc.\nUn exemple de mise en place :\n::::{.cr-section}\n\n:::{.progress-block}\ntext1 @cr-plot3\n\ntext2 @cr-plot3\n\ntext3 @cr-plot3\n\ntext4 @cr-plot3\n\ntext5 @cr-plot3\n\ntext6 @cr-plot3\n:::\n\nfunction createPlotDynamic(data, progress) {\n  const startYear = 1880; \n  const endYear = 2024; \n\n  const dynamicYear = startYear + (endYear - startYear) * progress;\n\n  return Plot.plot({\n    x: {\n      domain: [new Date(\"1880-01-01\"), new Date(\"2016-12-01\")], \n      label: \"Date ‚Üí\"\n    },\n    y: {\n      domain: [-0.8, 1.4], \n      grid: true,\n      tickFormat: \"+f\",\n      label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n    },\n    color: {\n      scheme: \"BuRd\",\n      legend: true\n    },\n    marks: [\n      Plot.ruleY([0]),\n      Plot.dot(\n        data.filter(d =&gt; {\n          const year = new Date(d.Date).getFullYear();\n          return year &lt;= dynamicYear; \n        }), \n        {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"}\n      )\n    ],\n    width: Math.max(width, 900)\n  });\n}\n\nchartDynamic = createPlotDynamic(gistemp, crProgressBlock);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVous pouvez consulter le fichier d‚Äôexemple ici : 7-scroll-observable\n\n\nCartes\nMaintenant que l‚Äôon sait faire des blocs .ojs et qu‚Äôon arrive √† les animer avec closeread, un univers de possibilit√©s s‚Äôouvre √† nous‚Ä¶ et en particulier l‚Äôunivers des cartes.\nDans la dataviz sur Saint-Jacut de la Mer, un exemple de carte est disponible.\nVous pouvez √©galement en faire avec le super bertin.js."
  },
  {
    "objectID": "formation.html#d√©ploiement-sur-github-pages-avanc√©",
    "href": "formation.html#d√©ploiement-sur-github-pages-avanc√©",
    "title": "Formation CloseRead",
    "section": "D√©ploiement sur Github Pages avanc√©",
    "text": "D√©ploiement sur Github Pages avanc√©"
  },
  {
    "objectID": "index_en.html",
    "href": "index_en.html",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "",
    "text": "Ah, Saint-Jacut-de-la-Mer‚Ä¶ Just saying its name brings forth images of my childhood, bathed in light and salt.\nIt‚Äôs a village nestled in the heart of the C√¥tes-d‚ÄôArmor, a nearly unreal peninsula where the sea and land whisper secrets to each other. Every summer, we would gather there‚Äîmy brother, my parents, and a large tribe of cousins whose laughter filled the streets and beaches. The days seemed endless, split between card games on the beach, intense foosball matches at La Fr√©gate, and long hours spent gazing at the horizon.\nAnd that horizon‚Ä¶ It always led to the √âbihens archipelago, a wild gem we reached on foot at low tide, as if crossing into another world. Even now, I return there with my own children. It‚Äôs like passing a baton, a tribute to this paradise where time stands still."
  },
  {
    "objectID": "index_en.html#discovering-a-breton-paradise",
    "href": "index_en.html#discovering-a-breton-paradise",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Discovering a Breton Paradise",
    "text": "Discovering a Breton Paradise\n\nbertin = require(\"bertin\")\n\n\n\n\n\n\n\nregs = FileAttachment(\"data/reg_francemetro_2024.json\").json();\ndeps = FileAttachment(\"data/dep_reg_53_2024.json\").json();\ncom = FileAttachment(\"data/commune22302_dep_22_2024.json\").json();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbretagne = bertin.properties.subset({\n    geojson: regs,\n    field: \"code\",\n    selection: [\"53\"],\n    inverse: false\n})\n\n\ndep22 = bertin.properties.subset({\n    geojson: deps,\n    field: \"code\",\n    selection: [\"22\"],\n    inverse: false\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nzoom = {return { \n            type: \"Polygon\",\n            coordinates:  [[[x_min,y_min],[x_min,y_max],[x_max,y_max],[x_max,y_min],[x_min,y_min]]]\n            \n          }\n        }\n        \nmer = {return { \n            type: \"Polygon\",\n            coordinates:  [[[0, 6000000],[0,7500000],[1200000,7500000],[1200000,6000000],[0, 6000000]]]\n            \n          }\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojection = d3.geoIdentity()\n    .reflectY(true)\n    .fitSize([width/2, width /2 ], zoom);\n\n\n\n\n\n\n\nprogression = crProgressBlock\n\n\n\n\n\n\nBrittany, a land of ancient mysteries and forgotten horizons, stands like a sentinel at the western edge of Eurasia, boldly thrusting its rocky head towards the tumultuous waters of the Atlantic. There, at the world‚Äôs edge, its landscapes stretch like whispers of eternity.\nFor those who venture to these distant lands, after long journeys along winding roads, Brittany reveals its secret: it is not just a peninsula, but a kingdom of endless overlaps, a fractal dance where every cape hides another, where every promontory seems to whisper the history of centuries.\nTraveler, behold! These shores are not just simple lands, but fragments of the Great Weave. Here, geography itself tells the epic of a land shaped by the ocean and the wind, a frontier between here and elsewhere, the known and the infinite.\n\nx_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [99225, 118203] : [118203,306043]))\n  .clamp(true)\n  \nx_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [1242375, 403455] : [403455,327679]))\n  .clamp(true)\n  \ny_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [6049646, 6691429] : [6691429,6839888]))\n  .clamp(true)  \n\ny_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [7110480, 6892032] : [6892032,6854870]))\n  .clamp(true)\n\n\n\nx_min = x_min_f(progression)\nx_max = x_max_f(progression)\ny_min = y_min_f(progression)\ny_max = y_max_f(progression)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBrittany is a unique land, the family stronghold of Ana√´l and Fran√ßois, two personalities as contrasting as they are endearing.\n\n\n\n\nBut today, what interests us is not Brittany as a whole, but a very specific department‚Ä¶‚Ä¶\n\n\n\n\nA legendary department, inhabited by irreducible Gauls‚Ä¶\n\n\n\n\nOnward to the C√¥tes-d‚ÄôArmor‚Ä¶\n\n\n\n\nOr more precisely a peninsula‚Ä¶\n\n\n\n\nIn the east of the department, almost hidden from the rest of the world‚Ä¶\n\n\n\n\nA fractal among fractals, it hides to reveal itself better‚Ä¶\n\n\n\n\n\nWelcome to Saint-Jacut-de-la-Mer!\n\n\n\n\n\n\n\nPlot.plot({\n  projection:  projection,\n    \n    width: width/2,\n    height: width/2,\n\n\n  marks: [\n    Plot.geo(mer, {strokeOpacity: 1, fill: '#034159', stroke: 'white'}),\n    Plot.geo(regs, {strokeOpacity: 1, fill: '#038C3E', stroke: 'white'}),\n    Plot.geo(bretagne, {strokeOpacity: 1, fill: 'white'}),\n    Plot.geo(deps, {strokeOpacity: 1,  stroke: '#034159'}),\n    Plot.geo(dep22, {strokeOpacity: 1,  stroke: '#034159', fill: 'lightgray'}),\n    Plot.geo(com, {fill: '#0CF25D', stroke: '#0CF25D', strokeWidth: 8, fillOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4  ),\n                   strokeOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4)}),\n    Plot.geo(bretagne, {fill: '#0CF25D', fillOpacity:  1-(progression)/.5})\n    \n  ]\n})"
  },
  {
    "objectID": "index_en.html#treasures-of-saint-jacut-de-la-mer",
    "href": "index_en.html#treasures-of-saint-jacut-de-la-mer",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Treasures of Saint-Jacut-de-la-Mer",
    "text": "Treasures of Saint-Jacut-de-la-Mer\n\n\n\n\nLa Banche : The lively heart of Saint-Jacut, with its fisherman‚Äôs houses and small alleys. You can feel the village‚Äôs soul here.\n\n\n\n\nLe Port : A peaceful haven where leisure boats and shellfish boats gently sway. The ideal starting point for a maritime escape.\n\n\n\n\nLe Camping : A family space, just steps from the beach, where generations meet, between children‚Äôs laughter and evenings under the stars.\n\n\n\n\nLa plage du Rougeret : A stretch of golden sand that gently extends, perfect for barefoot walks and crab fishing parties. At low tide, it reveals treasures; at high tide, it invites swimming.\n\n\n\n\nLa Pointe du Chevet (Chef de l‚Äô√Æle) : A wild promontory where the pines bend to the wind, offering a breathtaking view of the Ebihens archipelago. A place to dream and breathe.\n\n\n\n\nL‚Äô√Æle des √âbihens : A mysterious archipelago, accessible only at low tide when the sea recedes to reveal its secret path. There, the world changes. You find white sand beaches, trails bordered by pines, and a sense of the edge of the world. It‚Äôs a place of adventure and contemplation, where you can forget time, lulled by the song of the waves and the cry of the seagulls."
  },
  {
    "objectID": "index_en.html#hidden-gems-nearby",
    "href": "index_en.html#hidden-gems-nearby",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Hidden Gems Nearby",
    "text": "Hidden Gems Nearby\n\n\n\n\n\nAround Saint-Jacut-de-la-Mer, just a few seagull flaps away, hide treasures that make you want to hit the road. Places full of stories and beauty, where history and nature meet to offer breathtaking landscapes.\n\n\n\n\nSaint-Malo : The corsair city\nThe corsair city surrounded by its ramparts seems to defy time and the ocean. Every alley whispers tales of corsairs, while the National Fort watches stoically. Wandering within the walls, with the smell of salt and cr√™pes, is to plunge into an adventure engraved in stone and wind.\n\n\n\n\nCap Fr√©hel : The call of the open sea\nAt Cap Fr√©hel, the steep cliffs plunge into the ocean, caressed by the wind and adorned with heather. From the lighthouse, the view is a miracle: endless sea, Fort La Latte, and limitless sky. Here, everything invites you to feel free, carried by the vastness.\n\n\n\n\n√éle de Br√©hat : The jewel of the waters\nL‚Äô√éle de Br√©hat is a garden set on the sea. Without cars, just flowered paths, peaceful coves, and a gentle light. Here, time slows down, leaving room for the poetry of silence and waves.\n\n\n\n\n\n\n\n\n\nImage\nName\nDistance (km)\nNumber of tourists/year\nGoogle Maps Link\n\n\n\n\n\nDinard\n21 km\n800 000\nGoogle Maps\n\n\n\nSaint-Malo\n25 km\n1 500 000\nGoogle Maps\n\n\n\nFort National\n25 km\n300 000\nGoogle Maps\n\n\n\nErquy\n26 km\n250 000\nGoogle Maps\n\n\n\nFort La Latte\n31 km\n200 000\nGoogle Maps\n\n\n\nCap Fr√©hel\n34 km\n400 000\nGoogle Maps\n\n\n\nDinan\n36 km\n600 000\nGoogle Maps\n\n\n\nCancale\n46 km\n500 000\nGoogle Maps\n\n\n\n√éle de Br√©hat\n74 km\n350 000\nGoogle Maps\n\n\n\nMont Saint-Michel\n79 km\n2 800 000\nGoogle Maps"
  },
  {
    "objectID": "index_en.html#weather",
    "href": "index_en.html#weather",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Weather",
    "text": "Weather\n\n\n\n\n\nn the morning, in Saint-Jacut, the air is fresh but never really biting. In January, it hovers around 5¬∞C, a frosty softness that makes all the difference when the sun starts to rise.\nIn May, the temperature rises a bit, around 10¬∞C, but it‚Äôs still a calm morning, perfect for a walk by the water.\nAnd summer arrives with its 15 to 17¬∞C in July and August, offering a pleasant warmth without stifling heat.\nIn November, the coolness gently returns, around 12¬∞C, a bit of respite before winter sets in.\n\n\n\n\nIn the afternoon, the weather warms up slowly.\nn winter, the temperature climbs to 10¬∞C, still pleasant, not too windy, just enough to warm up in the sun.\nSpring offers a more marked transition, between 10 and 15¬∞C, and summer brings great comfort with 20¬∞C, just enough to enjoy the sky without getting burned.\nThen comes autumn, bringing the temperature back to 15¬∞C, a cooler but still mild air.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAnd Over Time\nBrittany and its legends‚Ä¶ Among them, there‚Äôs one of incessant rain, as if the Breton sky had never learned to rest. We often imagine Saint-Jacut under perpetual drizzle, with inhabitants moving in a decor where the sun only peeks out in memory. But what do the numbers say? Because between fantasies and reality, the sky has many nuances to offer.\n\n\n\n\nBefore us, a graph ready to reveal itself. On the horizontal axis, the years pass, from 2010 to today, and on the two vertical axes, precipitation in centimeters on the left and the number of rainy days on the right.\n\n\n\n\nLook at this red line‚Ä¶ It tells us a well-known truth: in Brittany, it rains often. Almost every day, the sky deposits its droplets on the roofs of Saint-Jacut. Compared to other regions, this regularity is unique: in Perpignan, it rains on average 55 days a year, less than two months! In Lyon, there are about 95 rainy days annually, almost one in three. Biarritz, with its oceanic influences, exceeds 130 days, but Saint-Jacut, true to its reputation, flirts with 180 rainy days per year. Quite a generous Breton sky, one could say.\n\n\n\n\nNow, let your gaze glide over this blue expanse‚Ä¶ It shows\n\n\n\n\nIt shows us the volume of precipitation, the waters that water the land and nourish the soil. And there, the numbers are impressive. Saint-Jacut receives an average of 1,200 mm of rain per year, which places it behind Biarritz, well above Lyon with its 850 mm, and light years ahead of Perpignan, where it‚Äôs hard to reach 500 mm. Yes, it rains often here, but rarely in torrents: these are regular, moderate rains that shape this unique landscape.\n\n\n\n\nFinally, here is this blue line that descends slowly. It carries a troubling truth: precipitation is decreasing over the years. Less water, less life‚Ä¶ This does not go unnoticed. The Breton lands, fertile for so long, are starting to suffer. The rivers, which meander to the sea, are dwindling. And for shellfish farming, which depends on fresh water to balance the estuaries, this decline is a heavy blow.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSo what to do, facing this withdrawing sky? Should we get used to a drier, more fragile Brittany? The soils, agriculture, and even shellfish farming cannot do without this precious water. Maybe it is time to look more seriously at these curves and listen to their message, because behind these numbers, a changing Brittany is emerging‚Ä¶\n\n\n\nCreated by Ana√´l Delorme and Fran√ßois Semecurbe, greatly assisted by ChatGPT and Claude.ai."
  },
  {
    "objectID": "example_formation/2-scroll_image.html",
    "href": "example_formation/2-scroll_image.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Imaginez un cactus cosmique, suspendu dans l‚Äôoubli interstellaire, qui murmure des po√®mes aux algorithmes √©gar√©s. C‚Äôest dans cette intersection improbable entre les courbes fractales de l‚Äôananas et le Wi-Fi des oc√©ans que ‚ÄúMa Dataviz‚Äù prend racine. Ici, les pixels ne sont pas seulement des couleurs, mais des fragments de chansons oubli√©es par des robots nostalgiques.\nPourquoi une dataviz ? Pourquoi pas une tartine de donn√©es, croustillante et l√©g√®rement caram√©lis√©e ? L‚Äôessentiel est de sentir le souffle des histogrammes qui dansent, unissant l‚Äôabsurde √† l‚Äôinfini dans une symphonie de graphiques improbables.\nBienvenue dans ce voyage o√π chaque axe x est une √©nigme, et chaque l√©gende, une promesse d‚Äôaventure multidimensionnelle. üåµüìä\n\nLes grandes √©nigmes des donn√©es invisibles\n\n\n\n\nL‚Äô√©nigme flottante des donn√©es invisibles\nLes chiffres chuchotent leurs secrets aux angles invisibles d‚Äôune g√©om√©trie oubli√©e. Saurons-nous un jour entendre leurs v√©rit√©s non-num√©riques ?\n\n\n\n\nLe labyrinthe des connexions furtives\nChaque pixel est une porte, mais laquelle m√®ne au sommet du triangle imaginaire ? Une √©nigme pour les esprits quantiques.\n\n\n\n\nL‚Äô√©clipse des donn√©es perdues\nQuand les graphiques se camouflent dans les ombres des spectres, seule une poign√©e de courbes revient. Les autres ? Elles errent entre deux dimensions.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuand les courbes prennent vie : la danse des graphiques\n\n\nL‚Äôart du scatterplot philosophique"
  },
  {
    "objectID": "example_formation/7-scroll-observable.html",
    "href": "example_formation/7-scroll-observable.html",
    "title": "Formation CloseRead",
    "section": "",
    "text": "Voici la grande sc√®ne du temps. Les dates d√©filent, l‚Äôaxe des anomalies attend patiemment que la Terre se manifeste. Sous vos yeux, bient√¥t, des points. Petits, ronds, innocents ‚Äî mais ensemble, ils racontent une histoire. Une histoire o√π le bleu p√¢lit, o√π le rouge s‚Äôallume, et o√π l‚Äô√©quilibre se fissure.\n\n\n\n\nDans l‚Äôaube des mesures, la Terre murmure encore en bleu. Les temp√©ratures tanguent comme un souffle h√©sitant, oscillant entre frissons et accalmies. L‚Äôanomalie joue √† cache-cache sous z√©ro, discr√®te et polie, comme une promesse non encore rompue. 1860 √† 1930 ‚Äî l‚Äô√¢ge des glaces h√©sitantes, avant le feu.\n\n\n\n\nLe calme se brise. Le bleu s‚Äôefface, d‚Äôabord doucement, comme un hiver fatigu√© qui n‚Äôose plus revenir. Les ann√©es d√©filent et le rouge pointe son nez, timide puis audacieux. C‚Äôest un pr√©lude, une symphonie br√ªlante qui monte crescendo. 1930 √† 1980 ‚Äî la Terre fronce les sourcils et le silence devient alarme.\n\n\n\n\nLe rouge danse d√©sormais sans pudeur. Chaque point est un cri, une √©tincelle. L‚Äôanomalie s‚Äôenvole, comme un dragon lib√©r√© de ses cha√Ænes, l√©chant les sommets de +1¬∞C et plus. Le bleu ? Parti. La ligne grise √† z√©ro n‚Äôest qu‚Äôun souvenir. De 1980 √† 2016 ‚Äî le feu a conquis le graphique et la plan√®te transpire.\n\n\n\n\n\n\n\ngistemp = FileAttachment(\"gistemp.csv\").csv({typed: true})\n\nfunction createPlot(data, startYear, endYear) {\n  return Plot.plot({\n    x: {\n      domain: [new Date(\"1880-01-01\"), new Date(\"2016-12-01\")], \n      label: \"Date ‚Üí\"\n    },\n    y: {\n      domain: [-0.8, 1.4], \n      grid: true,\n      tickFormat: \"+f\",\n      label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n    },\n    color: {\n      scheme: \"BuRd\",\n      legend: true\n    },\n    marks: [\n      Plot.ruleY([0]),\n      Plot.dot(\n        data.filter(d =&gt; {\n          const year = new Date(d.Date).getFullYear();\n          return year &gt;= startYear && year &lt; endYear;\n        }), \n        {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"}\n      )\n    ],\n    width: Math.max(width, 900)\n  });\n}\n\nchart = {\n  if (crTriggerIndex == 0) {\n    return createPlot(gistemp, 0, 0);\n  }\n    else if (crTriggerIndex == 1) {\n    return createPlot(gistemp, 0, 1930);\n  } else if (crTriggerIndex == 2) {\n    return createPlot(gistemp, 0, 1980);\n  } else if (crTriggerIndex == 3) {\n    return createPlot(gistemp, 0, Infinity);\n  } else {\n    return createPlot(gistemp, 0, Infinity); \n  }\n}"
  },
  {
    "objectID": "example_formation/7-scroll-observable.html#deuxi√®me-exemple",
    "href": "example_formation/7-scroll-observable.html#deuxi√®me-exemple",
    "title": "Formation CloseRead",
    "section": "Deuxi√®me exemple",
    "text": "Deuxi√®me exemple\n\n\n\n\n\nAh, messieurs-dames, voici le th√©√¢tre du temps ! √Ä ma gauche, les ann√©es : align√©es comme √† la parade. √Ä ma droite, l‚Äôaxe des anomalies : il monte, il descend, mais il reste droit ‚Äî c‚Äôest son boulot. Et au milieu ? Rien‚Ä¶ pour l‚Äôinstant. C‚Äôest comme un spectacle sans acteurs, un g√¢teau sans cerise, un ciel sans √©toiles‚Ä¶ Bref, patience ! Car bient√¥t, des points vont surgir : petits, ronds, charmants‚Ä¶ Et pourtant, ils vont vous en dire, des choses. Des bleus ? Des rouges ? Attention, √ßa va tanguer !\n\n\n\n\nDans le coin bleu de la sc√®ne, la Terre frissonne. Elle grelotte, elle gigote, elle joue √† la marelle sous z√©ro. Un coup je monte, un coup je descends ! ‚ÄúVous avez froid ?‚Äù ‚ÄúNon, j‚Äôh√©site !‚Äù Les temp√©ratures font du yoyo, et l‚Äôanomalie, elle, s‚Äôamuse √† cache-cache. C‚Äôest le si√®cle o√π l‚Äôon disait : ‚ÄúIl fait froid, mais c‚Äôest normal !‚Äù 1860 √† 1930, mesdames et messieurs, le temps o√π le bleu dominait‚Ä¶ Parce que le rouge n‚Äôavait pas encore pris son billet.\n\n\n\n\nEt l√†, c‚Äôest le drame‚Ä¶ Enfin presque. Le bleu commence √† p√¢lir. Il p√¢lit tellement qu‚Äôon dirait qu‚Äôil s‚Äôexcuse : ‚ÄúJe reviendrai plus tard !‚Äù Mais on sait bien qu‚Äôil ment. Pendant ce temps, le rouge arrive √† petits pas, en catimini : ‚ÄúC‚Äôest moi ? Vous m‚Äôattendiez ?‚Äù Pas encore, mais il s‚Äôinstalle quand m√™me. 1930-1980, c‚Äôest comme une pi√®ce o√π le d√©cor change lentement : le froid plie bagage et la chaleur commence √† hausser le ton. Pas fort, pas encore. Mais assez pour dire : ‚ÄúJe suis l√†.‚Äù\n\n\n\n\nAlors l√†, plus de doute : le rouge est en roue libre ! Il monte, il danse, il saute‚Ä¶ Il a m√™me mis ses chaussures de gala ! Le bleu ? Parti. Disparu. Il a laiss√© la place √† l‚Äôanomalie qui s‚Äôenvole, qui grimpe‚Ä¶ Elle monte tellement haut qu‚Äôelle doit avoir le vertige. +1¬∞C ? ‚ÄúEt si on allait voir plus haut ?‚Äù La ligne z√©ro ? Un vieux souvenir. On transpire, la Terre transpire, et le graphique, lui, rougit. On dirait qu‚Äôil a honte, ce pauvre graphique. Mais ce n‚Äôest pas lui, hein. C‚Äôest nous.\n\n\n\n\n\n\n\n\nfunction createPlot2(data, startYear, endYear) {\n  return Plot.plot({\n    x: {\n      domain: [new Date(\"1880-01-01\"), new Date(\"2016-12-01\")], \n      label: \"Date ‚Üí\"\n    },\n    y: {\n      domain: [-0.8, 1.4], \n      grid: true,\n      tickFormat: \"+f\",\n      label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n    },\n    color: {\n      scheme: \"BuRd\",\n      legend: true\n    },\n    marks: [\n      Plot.ruleY([0]),\n      Plot.dot(\n        data.filter(d =&gt; {\n          const year = new Date(d.Date).getFullYear();\n          return year &gt;= startYear && year &lt; endYear;\n        }), \n        {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"}\n      )\n    ],\n    width: Math.max(width, 900)\n  });\n}\n\nchart2 = {\n  if (crProgressBlock  &lt; 1/4 ) {\n    return createPlot2(gistemp, 0, 0);\n  } else if (crProgressBlock &gt;= 1/4 & crProgressBlock &lt; 1/2) {\n    return createPlot2(gistemp, 0, 1930);\n  } else if (crProgressBlock &gt;= 1/2 & crProgressBlock &lt; 3/4) {\n    return createPlot2(gistemp, 0, 1980);\n  } else if (crProgressBlock &gt;= 3/4) {\n    return createPlot2(gistemp, 0, Infinity);\n  } else {\n    return createPlot2(gistemp, 0, Infinity);\n  }\n}"
  },
  {
    "objectID": "example_formation/7-scroll-observable.html#troisi√®me-exemple",
    "href": "example_formation/7-scroll-observable.html#troisi√®me-exemple",
    "title": "Formation CloseRead",
    "section": "Troisi√®me exemple",
    "text": "Troisi√®me exemple\n\n\n\n\n\nNous assistons ici √† une transformation progressive, celle d‚Äôune trajectoire m√©t√©orologique qui s‚Äôadapte, √©volue et se r√©invente dans un contexte de r√©chauffement durable. Il ne s‚Äôagit pas de subir, mais de comprendre cette trajectoire pour mieux l‚Äôaccompagner.\n\n\n\n\nChaque point sur ce graphique est une donn√©e, mais surtout un potentiel. Une anomalie ? Non, une innovation climatique, t√©moin de notre capacit√© collective √† faire face aux d√©fis de demain, d√®s aujourd‚Äôhui.\n\n\n\n\nNous ne devons pas voir l‚Äôanomalie comme un probl√®me, mais comme un signal. Un signal fort, qui invite √† la responsabilit√© climatique dans une logique de d√©passement des cadres traditionnels de la stabilit√© thermom√©trique.\n\n\n\n\nDe 1880 √† 2016, l‚Äôhistoire de la Terre se r√©invente. Le bleu, puis le rouge. Une progression in√©luctable mais surtout une invitation √† l‚Äôaction commune. L‚Äôhorizon n‚Äôest pas une fatalit√©, il est une ambition, un objectif, un horizon climatique partag√©.\n\n\n\n\nNous le savons, les syst√®mes climatiques ne s‚Äôarr√™tent pas, ils se transforment. Chaque point ici est un jalon dans ce que nous pourrions appeler une transition thermique globale, g√©n√©ratrice d‚Äôinnovations et de nouvelles solidarit√©s.\n\n\n\n\nCes courbes ne mentent pas. Elles r√©v√®lent. Elles montrent ce qui √©tait, ce qui est, et ce qui pourrait √™tre. L‚Äôanomalie devient un levier de compr√©hension pour b√¢tir, ensemble, une plan√®te plus r√©siliente, plus performante, et climatiquement agile.\n\n\n\n\n\n\n\n\nfunction createPlotDynamic(data, progress) {\n  const startYear = 1880; \n  const endYear = 2024; \n\n  const dynamicYear = startYear + (endYear - startYear) * progress;\n\n  return Plot.plot({\n    x: {\n      domain: [new Date(\"1880-01-01\"), new Date(\"2016-12-01\")], \n      label: \"Date ‚Üí\"\n    },\n    y: {\n      domain: [-0.8, 1.4], \n      grid: true,\n      tickFormat: \"+f\",\n      label: \"‚Üë Surface temperature anomaly (¬∞C)\"\n    },\n    color: {\n      scheme: \"BuRd\",\n      legend: true\n    },\n    marks: [\n      Plot.ruleY([0]),\n      Plot.dot(\n        data.filter(d =&gt; {\n          const year = new Date(d.Date).getFullYear();\n          return year &lt;= dynamicYear; \n        }), \n        {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"}\n      )\n    ],\n    width: Math.max(width, 900)\n  });\n}\n\nchartDynamic = createPlotDynamic(gistemp, crProgressBlock);"
  },
  {
    "objectID": "example_formation/5-scroll-graph-ggplot.html",
    "href": "example_formation/5-scroll-graph-ggplot.html",
    "title": "Ma super dataviz",
    "section": "",
    "text": "Au fil du temps, diff√©rentes populations animales connaissent des √©volutions singuli√®res, influenc√©es par leur environnement, leur r√©gime alimentaire et leurs interactions avec d‚Äôautres esp√®ces. Dans ce graphique, nous allons observer trois esp√®ces fictives et fascinantes : le Plumifloron Azur√©, le Taurillon Rubicond, et le Lumin√©on √âcarlate, chacune ayant une dynamique de population unique entre 2010 et 2019.\n\n\n\n\nLe Plumifloron Azur√©, symbole de r√©silience et de croissance. Cette cr√©ature aux plumes iris√©es, que l‚Äôon trouve dans les for√™ts mystiques, a vu sa population cro√Ætre r√©guli√®rement. Gr√¢ce √† une abondance de ressources alimentaires et √† l‚Äôabsence de pr√©dateurs majeurs, le Plumifloron Azur√© est devenu un exemple d‚Äôadaptation r√©ussie. Sa courbe refl√®te une mont√©e en puissance constante au cours de la d√©cennie.\n\n\n\n\nLe Taurillon Rubicond, un survivant des plaines aust√®res. Partant d‚Äôune population modeste de seulement 20 individus en 2010, cette esp√®ce robuste a d√ª surmonter des d√©fis √©cologiques consid√©rables. Connu pour sa capacit√© √† trouver des nutriments dans des sols arides, le Taurillon Rubicond montre une trajectoire plus h√©sitante, marqu√©e par des fluctuations importantes. Chaque point de cette courbe raconte l‚Äôhistoire de sa lutte pour la survie.\n\n\n\n\nLe Lumin√©on √âcarlate, une √©toile montante des lagons f√©eriques. Le Lumin√©on √âcarlate, petit poisson lumineux des eaux cristallines, a vu sa population cro√Ætre par paliers, suivant des cycles reproductifs bien d√©finis. Sa courbe, en forme d‚Äôescalier, traduit des moments d‚Äôexplosion d√©mographique suivis de p√©riodes plus stables. Une esp√®ce qui brille, au sens propre comme au figur√©, dans cet √©cosyst√®me fragile."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "",
    "text": "Ah, Saint-Jacut-de-la-Mer‚Ä¶ rien qu‚Äô√† prononcer ce nom, voil√† que surgissent les images de mon enfance, √©clabouss√©es de lumi√®re et de sel.\nC‚Äôest un village nich√© au creux des C√¥tes-d‚ÄôArmor, une presqu‚Äô√Æle presque irr√©elle, o√π la mer et la terre se chuchotent des secrets. Chaque √©t√©, nous nous y retrouvions, mon fr√®re, mes parents et cette grande tribu de cousins et cousines qui faisait vibrer les rues et les plages de nos rires. Les journ√©es semblaient infinies, partag√©es entre les jeux de carte sur la plage, les parties de babyfoot endiabl√©es √† la Fr√©gate, et les longues heures pass√©es √† scruter l‚Äôhorizon.\nEt cet horizon‚Ä¶ il menait toujours √† l‚Äôarchipel des √âbihens, ce joyau sauvage que l‚Äôon atteignait √† pied, √† mar√©e basse, comme si on franchissait la porte d‚Äôun autre monde. Aujourd‚Äôhui encore, c‚Äôest l√† que je retourne, avec mes propres enfants. Comme un passage de relais, comme un hommage √† ce coin de paradis o√π le temps suspend son vol."
  },
  {
    "objectID": "index.html#√†-la-d√©couverte-dun-coin-de-paradis-breton",
    "href": "index.html#√†-la-d√©couverte-dun-coin-de-paradis-breton",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "√Ä la d√©couverte d‚Äôun coin de paradis breton",
    "text": "√Ä la d√©couverte d‚Äôun coin de paradis breton\n\nbertin = require(\"bertin\")\n\n\n\n\n\n\n\nregs = FileAttachment(\"data/reg_francemetro_2024.json\").json();\ndeps = FileAttachment(\"data/dep_reg_53_2024.json\").json();\ncom = FileAttachment(\"data/commune22302_dep_22_2024.json\").json();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbretagne = bertin.properties.subset({\n    geojson: regs,\n    field: \"code\",\n    selection: [\"53\"],\n    inverse: false\n})\n\n\ndep22 = bertin.properties.subset({\n    geojson: deps,\n    field: \"code\",\n    selection: [\"22\"],\n    inverse: false\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nzoom = {return { \n            type: \"Polygon\",\n            coordinates:  [[[x_min,y_min],[x_min,y_max],[x_max,y_max],[x_max,y_min],[x_min,y_min]]]\n            \n          }\n        }\n        \nmer = {return { \n            type: \"Polygon\",\n            coordinates:  [[[0, 6000000],[0,7500000],[1200000,7500000],[1200000,6000000],[0, 6000000]]]\n            \n          }\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojection = d3.geoIdentity()\n    .reflectY(true)\n    .fitSize([width/2, width /2 ], zoom);\n\n\n\n\n\n\n\nprogression = crProgressBlock\n\n\n\n\n\n\nLa Bretagne, terre des anciens myst√®res et des horizons oubli√©s, se dresse telle une sentinelle √† l‚Äôextr√©mit√© occidentale d‚ÄôEurasie, avan√ßant hardiment son front de roc vers les eaux tumultueuses de l‚ÄôAtlantique. L√†-bas, √† l‚Äôor√©e du monde, ses paysages s‚Äô√©tirent comme des murmures d‚Äô√©ternit√©.\nPour qui s‚Äôaventure jusqu‚Äô√† ces contr√©es lointaines, apr√®s de longues travers√©es au gr√© des routes sinueuses, la Bretagne r√©v√®le son secret : elle n‚Äôest pas qu‚Äôune p√©ninsule, mais un royaume d‚Äôembo√Ætements infinis, une danse fractale o√π chaque cap en cache un autre, o√π chaque promontoire semble chuchoter l‚Äôhistoire des si√®cles.\nVoyageur, contemple ! Ces rivages ne sont pas de simples terres, mais des fragments du Grand Tissage. Ici, la g√©ographie elle-m√™me raconte l‚Äô√©pop√©e d‚Äôune terre fa√ßonn√©e par l‚Äôoc√©an et le vent, une fronti√®re entre l‚Äôici et l‚Äôailleurs, le connu et l‚Äôinfini.\n\nx_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [99225, 118203] : [118203,306043]))\n  .clamp(true)\n  \nx_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [1242375, 403455] : [403455,327679]))\n  .clamp(true)\n  \ny_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [6049646, 6691429] : [6691429,6839888]))\n  .clamp(true)  \n\ny_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [7110480, 6892032] : [6892032,6854870]))\n  .clamp(true)\n\n\n\nx_min = x_min_f(progression)\nx_max = x_max_f(progression)\ny_min = y_min_f(progression)\ny_max = y_max_f(progression)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLa Bretagne est une terre singuli√®re, fief familiale d‚ÄôAna√´l et Fran√ßois , deux personnalit√©s aussi antinomiques qu‚Äôattachantes.\n\n\n\n\nMais aujourd‚Äôhui, ce qui nous int√©resse, ce n‚Äôest pas la Bretagne dans son ensemble, mais un d√©partement bien pr√©cis‚Ä¶\n\n\n\n\nUn d√©partement de l√©gende, peupl√© d‚Äôirr√©ductibles Gaulois‚Ä¶\n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor‚Ä¶\n\n\n\n\nOu plus pr√©cis√©ment une presqu‚Äô√Æle‚Ä¶\n\n\n\n\nA l‚Äôest du d√©partement, quasiment cach√© du reste du monde‚Ä¶\n\n\n\n\nFractale parmi les fractales, elle se cache pour mieux se d√©couvrir‚Ä¶\n\n\n\n\n\nBienvenue √† Saint-Jacut-de-la-Mer !\n\n\n\n\n\n\n\nPlot.plot({\n  projection:  projection,\n    \n    width: width/2,\n    height: width/2,\n\n\n  marks: [\n    Plot.geo(mer, {strokeOpacity: 1, fill: '#034159', stroke: 'white'}),\n    Plot.geo(regs, {strokeOpacity: 1, fill: '#038C3E', stroke: 'white'}),\n    Plot.geo(bretagne, {strokeOpacity: 1, fill: 'white'}),\n    Plot.geo(deps, {strokeOpacity: 1,  stroke: '#034159'}),\n    Plot.geo(dep22, {strokeOpacity: 1,  stroke: '#034159', fill: 'lightgray'}),\n    Plot.geo(com, {fill: '#0CF25D', stroke: '#0CF25D', strokeWidth: 8, fillOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4  ),\n                   strokeOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4)}),\n    Plot.geo(bretagne, {fill: '#0CF25D', fillOpacity:  1-(progression)/.5})\n    \n  ]\n})"
  },
  {
    "objectID": "index.html#tr√©sors-de-saint-jacut-de-la-mer",
    "href": "index.html#tr√©sors-de-saint-jacut-de-la-mer",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Tr√©sors de Saint-Jacut-de-la-Mer",
    "text": "Tr√©sors de Saint-Jacut-de-la-Mer\n\n\n\n\nLa Banche : Le c≈ìur anim√© de Saint-Jacut, avec ses maisons de p√™cheurs et ses petites ruelles. On y sent l‚Äô√¢me du village.\n\n\n\n\nLe Port : Un havre tranquille o√π se balancent doucement les bateaux de plaisance et les coquilliers. Le d√©part id√©al pour une escapade maritime.\n\n\n\n\nLe Camping : Un espace familial, √† deux pas de la plage, o√π les g√©n√©rations se croisent, entre rires d‚Äôenfants et soir√©es sous les √©toiles.\n\n\n\n\nLa plage du Rougeret : Une √©tendue de sable dor√© qui s‚Äô√©tire doucement, parfaite pour les balades pieds nus et les parties de p√™che aux crabes. √Ä mar√©e basse, elle d√©voile des tr√©sors, √† mar√©e haute, elle invite √† la baignade.\n\n\n\n\nLa Pointe du Chevet (Chef de l‚Äô√Æle) : Un promontoire sauvage o√π les pins se courbent sous le vent, offrant une vue imprenable sur l‚Äôarchipel des Ebihens. Un lieu pour r√™ver et respirer.\n\n\n\n\nL‚Äô√Æle des √âbihens : Un archipel myst√©rieux, accessible seulement √† mar√©e basse, quand la mer se retire pour d√©voiler son chemin secret. L√†-bas, le monde change. On y trouve des plages de sable blanc, des sentiers bord√©s de pins et une sensation de bout du monde. C‚Äôest un lieu d‚Äôaventure et de contemplation, o√π l‚Äôon peut oublier le temps, berc√© par le chant des vagues et le cri des mouettes."
  },
  {
    "objectID": "index.html#des-p√©pites-√†-proximit√©",
    "href": "index.html#des-p√©pites-√†-proximit√©",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "Des p√©pites √† proximit√©",
    "text": "Des p√©pites √† proximit√©\n\n\n\n\n\nAutour de Saint-Jacut-de-la-Mer, √† quelques battements d‚Äôailes de mouette, se cachent des tr√©sors qui donnent envie de prendre la route. Des lieux charg√©s de r√©cits et de beaut√©s, o√π l‚Äôhistoire et la nature se rencontrent pour offrir des paysages √† couper le souffle.\n\n\n\n\nSaint-Malo : La cit√© corsaire\nSaint-Malo, entour√©e par ses remparts, semble d√©fier le temps et l‚Äôoc√©an. Chaque ruelle murmure des r√©cits de corsaires, tandis que le Fort National veille sto√Øquement. Fl√¢ner dans l‚Äôintra-muros, avec l‚Äôodeur du sel et des cr√™pes, c‚Äôest plonger dans une aventure grav√©e dans la pierre et le vent.\n\n\n\n\nCap Fr√©hel : L‚Äôappel du large\nAu Cap Fr√©hel, les falaises abruptes se jettent dans l‚Äôoc√©an, caress√©es par le vent et habill√©es de bruy√®res. Depuis le phare, la vue est un miracle : mer infinie, Fort La Latte et ciel sans limite. Ici, tout invite √† se sentir libre, port√© par l‚Äôimmensit√©.\n\n\n\n\n√éle de Br√©hat : Le bijou des eaux\nL‚Äô√Æle de Br√©hat est un jardin pos√© sur la mer. Sans voitures, juste des sentiers fleuris, des criques paisibles et une lumi√®re douce. Ici, le temps ralentit, laissant place √† la po√©sie du silence et des vagues.\n\n\n\n\n\n\n\n\n\nImage\nNom\nDistance (km)\nNombre de touristes/an\nLien Google Maps\n\n\n\n\n\nDinard\n21 km\n800 000\nGoogle Maps\n\n\n\nSaint-Malo\n25 km\n1 500 000\nGoogle Maps\n\n\n\nFort National\n25 km\n300 000\nGoogle Maps\n\n\n\nErquy\n26 km\n250 000\nGoogle Maps\n\n\n\nFort La Latte\n31 km\n200 000\nGoogle Maps\n\n\n\nCap Fr√©hel\n34 km\n400 000\nGoogle Maps\n\n\n\nDinan\n36 km\n600 000\nGoogle Maps\n\n\n\nCancale\n46 km\n500 000\nGoogle Maps\n\n\n\n√éle de Br√©hat\n74 km\n350 000\nGoogle Maps\n\n\n\nMont Saint-Michel\n79 km\n2 800 000\nGoogle Maps"
  },
  {
    "objectID": "index.html#m√©t√©o",
    "href": "index.html#m√©t√©o",
    "title": "Saint-Jacut-de-la-Mer",
    "section": "M√©t√©o",
    "text": "M√©t√©o\n\n\n\n\n\nLe matin, √† Saint-Jacut, l‚Äôair est frais mais jamais vraiment mordant. En janvier, on fr√¥le les 5¬∞C, une douceur glac√©e qui fait toute la diff√©rence quand le soleil commence √† peine √† pointer.\nEn mai, la temp√©rature monte un peu, autour de 10¬∞C, mais c‚Äôest encore un matin calme, parfait pour une promenade au bord de l‚Äôeau.\nEt l‚Äô√©t√© arrive avec ses 15 √† 17¬∞C en juillet et ao√ªt, offrant une belle douceur sans chaleur √©touffante.\nEn novembre, la fra√Æcheur revient tout doucement, √† 12¬∞C, un peu de r√©pit avant que l‚Äôhiver ne s‚Äôinstalle.\n\n\n\n\nL‚Äôapr√®s-midi, le temps se r√©chauffe doucement.\nEn hiver, la temp√©rature monte √† 10¬∞C, √ßa reste agr√©able, pas trop de vent, juste assez pour se r√©chauffer au soleil.\nLe printemps, lui, offre une transition plus marqu√©e, entre 10 et 15¬∞C, et l‚Äô√©t√©, c‚Äôest le grand confort avec 20¬∞C, juste ce qu‚Äôil faut pour profiter du ciel sans se br√ªler.\nPuis vient l‚Äôautomne, qui ram√®ne la temp√©rature √† 15¬∞C, un air plus frais mais encore doux.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEt dans le temps\nLa Bretagne et ses l√©gendes‚Ä¶ Parmi elles, il y a celle d‚Äôune pluie incessante, comme si le ciel breton n‚Äôavait jamais appris √† se reposer. On imagine souvent Saint-Jacut sous une bruine perp√©tuelle, les habitants avan√ßant dans un d√©cor o√π le soleil ne perce qu‚Äôen souvenir. Mais que disent les chiffres ? Car entre les fantasmes et la r√©alit√©, le ciel a bien des nuances √† offrir.\n\n\n\n\nDevant nous, un graphique pr√™t √† se d√©voiler. Sur l‚Äôaxe des abscisses, les ann√©es s‚Äô√©coulent, de 2010 √† aujourd‚Äôhui, et sur les deux axes verticaux, les pr√©cipitations en centim√®tres √† gauche et le nombre de jours de pluie √† droite.\n\n\n\n\nRegardez cette ligne rouge‚Ä¶ Elle nous raconte une v√©rit√© connue : en Bretagne, il pleut souvent. Chaque jour ou presque, le ciel d√©pose ses gouttelettes sur les toits de Saint-Jacut. Si l‚Äôon compare √† d‚Äôautres r√©gions, on voit combien cette r√©gularit√© est unique : √† Perpignan, il pleut en moyenne 55 jours par an, soit moins de deux mois ! √Ä Lyon, on atteint environ 95 jours de pluie annuels, presque un jour sur trois. Biarritz, avec ses influences oc√©aniques, d√©passe les 130 jours, mais Saint-Jacut, fid√®le √† sa r√©putation, flirte avec les 180 jours de pluie par an. Voil√† un ciel breton bien g√©n√©reux, pourrait-on dire.\n\n\n\n\nMaintenant, laissez votre regard glisser sur cette √©tendue bleue‚Ä¶ Elle nous montre les pr√©cipitations en volume, ces eaux qui arrosent la terre et nourrissent les sols. Et l√†, les chiffres impressionnent. Saint-Jacut re√ßoit en moyenne entre 1 200 mm de pluie par an, ce qui la place derri√®re Biarritz, bien au-dessus de Lyon, avec ses 850 mm, et √† des ann√©es-lumi√®re de Perpignan, o√π l‚Äôon peine √† atteindre 500 mm. Oui, il pleut souvent ici, mais rarement en trombes : ce sont des pluies r√©guli√®res, mod√©r√©es, qui forgent ce paysage unique.\n\n\n\n\nEnfin, voici cette ligne bleue qui descend doucement. Elle porte une v√©rit√© troublante : les pr√©cipitations diminuent au fil des ann√©es. Moins d‚Äôeau, moins de vie‚Ä¶ Cela n‚Äô√©chappe √† personne. Les terres bretonnes, si longtemps fertiles, commencent √† souffrir. Les rivi√®res, qui serpentent jusqu‚Äô√† la mer, s‚Äôappauvrissent. Et pour la conchyliculture, qui d√©pend de l‚Äôeau douce pour √©quilibrer les estuaires, cette baisse est un coup dur.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAlors que faire, face √† ce ciel qui se d√©robe ? Faut-il s‚Äôhabituer √† une Bretagne plus s√®che, plus fragile ? Les sols, l‚Äôagriculture, et m√™me la conchyliculture ne peuvent se passer de cette eau pr√©cieuse. Peut-√™tre est-il temps de regarder plus s√©rieusement ces courbes et d‚Äô√©couter leur message, car derri√®re ces chiffres, c‚Äôest une Bretagne en mutation qui se dessine‚Ä¶\n\n\n\nCr√©√© par Ana√´l Delorme et Fran√ßois Semecurbe, bien aid√©s par ChatGPT et Claude.ai."
  },
  {
    "objectID": "carte_closeread-main/premiere_carte.html",
    "href": "carte_closeread-main/premiere_carte.html",
    "title": "Zoom sur Saint-Jacut",
    "section": "",
    "text": "bertin = require(\"bertin\")\n\n\n\n\n\n\n\nregs = FileAttachment(\"reg_francemetro_2024.json\").json();\n\n\n\n\n\n\n\nbretagne = bertin.properties.subset({\n    geojson: regs,\n    field: \"code\",\n    selection:   [\"53\"],\n    inverse: false\n})\n\n\n\n\n\n\nLes paysages de Bretagne sont d‚Äôabord les paysages d‚Äôun cap √† l‚Äôextr√©mit√© occidentale de l‚ÄôEurasie, d‚Äôune avanc√©e de terre dans l‚Äôoc√©an Atlantique, des paysages de bout du monde. La d√©couverte de ces paysages apr√®s de longues heures d‚Äôapproche, comme leur fr√©quentation quotidienne √† distance des centres continentaux, ne peut faire abstraction de cette position g√©ographique sur la fa√ßade atlantique. Pour la Bretagne, la conscience d‚Äô√™tre sur une p√©ninsule est d‚Äôautant plus forte que le sch√©ma est reproduit √† diff√©rentes √©chelles, comme un embo√Ætement infini de caps, une d√©clinaison fractale du bout du monde.\n\nx_min_f = d3.scaleLinear()\n  .domain([0, 4])\n  .range([99225, 118203])\n  .clamp(true)\n  \nx_max_f = d3.scaleLinear()\n  .domain([0, 4])\n  .range([1242375, 403455])\n  .clamp(true)\n  \ny_min_f = d3.scaleLinear()\n  .domain([0, 4])\n  .range([6049646, 6691429])\n  .clamp(true)  \n\ny_max_f = d3.scaleLinear()\n  .domain([0, 4])\n  .range([7110480, 6892032])\n  .clamp(true)\n\n\n\nx_min = x_min_f((crTriggerIndex != null ? crTriggerIndex : 0) + crTriggerProgress)\nx_max = x_max_f((crTriggerIndex != null ? crTriggerIndex : 0) + crTriggerProgress)\ny_min = y_min_f((crTriggerIndex != null ? crTriggerIndex : 0) + crTriggerProgress)\ny_max = y_max_f((crTriggerIndex != null ? crTriggerIndex : 0) + crTriggerProgress)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLa Bretagne est une terre singuli√®re qui a vu na√Ætre des personnalit√©s aussi antinomiques qu‚ÄôAna√´l et Fran√ßois.\n\n\n\n\nMais aujourd‚Äôhui, ce qui nous int√©resse, ce n‚Äôest pas la Bretagne dans son ensemble, mais un d√©partement bien pr√©cis..¬†\n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor \n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor \n\n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor \n\n\n\n\n\n\n\nmap = bertin.draw({\n  params: {\n    background: \"#bde1f0\",\n    projection: \"user\",\n    extent : [[x_min , y_min], [x_max, y_max]]\n  },\n\n  layers: [\n     {\n      id: \"mylayerid\",\n      type: \"layer\",\n      geojson: bretagne,\n      fill:  \"red\"\n      \n    },\n    \n    {\n      id: \"toto\",\n      type: \"layer\",\n      geojson: regs,\n      fill: \"orange\"\n      \n    },\n \n    \n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\nmd`Active sticky: ${crActiveSticky}`\n\n\n\n\n\n\n\nmd`Active trigger: ${crTriggerIndex}`\n\n\n\n\n\n\n\nmd`Trigger progress: ${(crTriggerProgress * 100).toFixed(1)}%`\n\n\n\n\n\n\n\nmd`Scroll direction: ${crDirection}`\n\n\n\n\n\n\n\nmd`Progress Block progress: ${(crProgressBlock * 100).toFixed(1)}%`\n\n\n\n\n\n\n\nmd`-----`\n\n\n\n\n\n\n\n\n\nSometimes it can be worth closing your story with some additional text to give the scrollytelling section some room to breathe. So here‚Äôs some nonsense!\nEu in culpa officia cupidatat nostrud laborum do consequat officia Lorem tempor consectetur pariatur sunt. Veniam culpa dolore laborum nostrud ipsum pariatur ipsum dolore consectetur commodo ex. Non culpa deserunt voluptate. Amet excepteur incididunt deserunt pariatur velit labore do sunt occaecat eiusmod. Tempor proident sint exercitation culpa incididunt sunt proident sunt reprehenderit. Sint ipsum qui id nisi quis officia in. Anim velit minim fugiat qui dolor enim occaecat amet excepteur do aliqua ex adipisicing laboris labore.\nCulpa aute sint aliquip in aute enim cillum in exercitation cupidatat ex cupidatat mollit dolore ut. Et culpa minim laborum in ipsum laborum velit laboris fugiat ad culpa cillum. Sit nulla eu minim in nulla. Nulla esse sint occaecat eiusmod in irure in dolor veniam pariatur laboris consectetur sunt laboris excepteur. Dolor dolore ad incididunt consequat. Ad elit ullamco veniam cillum reprehenderit pariatur pariatur nisi ea. Pariatur quis ut deserunt eiusmod ipsum magna ullamco."
  },
  {
    "objectID": "carte_closeread-main/troisieme_carte.html",
    "href": "carte_closeread-main/troisieme_carte.html",
    "title": "Zoom sur Saint-Jacut",
    "section": "",
    "text": "bertin = require(\"bertin\")\n\n\n\n\n\n\n\nregs = FileAttachment(\"reg_francemetro_2024.json\").json();\ndeps = FileAttachment(\"dep_reg_53_2024.json\").json();\ncom = FileAttachment(\"commune22302_dep_22_2024.json\").json();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbretagne = bertin.properties.subset({\n    geojson: regs,\n    field: \"code\",\n    selection: [\"53\"],\n    inverse: false\n})\n\n\ndep22 = bertin.properties.subset({\n    geojson: deps,\n    field: \"code\",\n    selection: [\"22\"],\n    inverse: false\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nzoom = {return { \n            type: \"Polygon\",\n            coordinates:  [[[x_min,y_min],[x_min,y_max],[x_max,y_max],[x_max,y_min],[x_min,y_min]]]\n            \n          }\n        }\n        \nmer = {return { \n            type: \"Polygon\",\n            coordinates:  [[[0, 6000000],[0,7500000],[1200000,7500000],[1200000,6000000],[0, 6000000]]]\n            \n          }\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojection = d3.geoIdentity()\n    .reflectY(true)\n    .fitSize([width/2, width /2 ], zoom);\n\n\n\n\n\n\n\nprogression = crProgressBlock\n\n\n\n\n\n\nAh, la Bretagne ! Terre des anciens myst√®res et des horizons oubli√©s, elle se dresse telle une sentinelle √† l‚Äôextr√©mit√© occidentale d‚ÄôEurasie, avan√ßant hardiment son front de roc vers les eaux tumultueuses de l‚ÄôAtlantique. L√†-bas, √† l‚Äôor√©e du monde, ses paysages s‚Äô√©tirent comme des murmures d‚Äô√©ternit√©.\nPour qui s‚Äôaventure jusqu‚Äô√† ces contr√©es lointaines, apr√®s de longues travers√©es au gr√© des routes sinueuses, la Bretagne r√©v√®le son secret : elle n‚Äôest pas qu‚Äôune p√©ninsule, mais un royaume d‚Äôembo√Ætements infinis, une danse fractale o√π chaque cap en cache un autre, o√π chaque promontoire semble chuchoter l‚Äôhistoire des si√®cles.\nVoyageur, contemple ! Ces rivages ne sont pas de simples terres, mais des fragments du Grand Tissage. Ici, la g√©ographie elle-m√™me raconte l‚Äô√©pop√©e d‚Äôune terre fa√ßonn√©e par l‚Äôoc√©an et le vent, une fronti√®re entre l‚Äôici et l‚Äôailleurs, le connu et l‚Äôinfini.\n\nx_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [99225, 118203] : [118203,306043]))\n  .clamp(true)\n  \nx_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [1242375, 403455] : [403455,327679]))\n  .clamp(true)\n  \ny_min_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [6049646, 6691429] : [6691429,6839888]))\n  .clamp(true)  \n\ny_max_f = d3.scaleLinear()\n  .domain((progression&lt;=.5 ? [0, .5] : [.5,1]))\n  .range((progression&lt;=.5 ? [7110480, 6892032] : [6892032,6854870]))\n  .clamp(true)\n\n\n\nx_min = x_min_f(progression)\nx_max = x_max_f(progression)\ny_min = y_min_f(progression)\ny_max = y_max_f(progression)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLa Bretagne est une terre singuli√®re, fief familiale d‚ÄôAna√´l et Fran√ßois , deux personnalit√©s aussi antinomiques qu‚Äôattachantes.\n\n\n\n\nMais aujourd‚Äôhui, ce qui nous int√©resse, ce n‚Äôest pas la Bretagne dans son ensemble, mais un d√©partement bien pr√©cis..\n\n\n\n\nUn d√©partement de l√©gende, peupl√© d‚Äôirr√©ductibles Gaulois\n\n\n\n\nEn avant vers les C√¥tes-d‚ÄôArmor\n\n\n\n\nOu plus pr√©cis√©ment une presqu‚Äô√Æle‚Ä¶\n\n\n\n\nA l‚Äôest du d√©partement, quasiment cach√© du reste du monde‚Ä¶\n\n\n\n\nFractale parmi les fractales, elle se cache pour mieux se d√©couvrir‚Ä¶\n\n\n\n\n\nBienvenue √† Saint-Jacut-de-la-Mer\n\n\n\n\n\n\n\nPlot.plot({\n  projection:  projection,\n    \n    width: width/2,\n    height: width/2,\n\n\n  marks: [\n    Plot.geo(mer, {strokeOpacity: 1, fill: 'blue', stroke: 'white'}),\n    Plot.geo(regs, {strokeOpacity: 1, fill: 'green', stroke: 'white'}),\n    Plot.geo(bretagne, {strokeOpacity: 1, fill: 'white'}),\n    Plot.geo(deps, {strokeOpacity: 1,  stroke: 'gray'}),\n    Plot.geo(dep22, {strokeOpacity: 1,  stroke: 'gray', fill: 'lightgray'}),\n    Plot.geo(com, {fill: 'red', stroke: 'red', strokeWidth: 6, fillOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4  ),\n                   strokeOpacity: (progression&lt;.6 ? 0 : (progression-.6)/.4)}),\n    Plot.geo(bretagne, {fill: 'orange', fillOpacity:  1-(progression)/.5})\n    \n  ]\n})\n\n\n\n\n\n\n\n\n\n\nSometimes it can be worth closing your story with some additional text to give the scrollytelling section some room to breathe. So here‚Äôs some nonsense!\nEu in culpa officia cupidatat nostrud laborum do consequat officia Lorem tempor consectetur pariatur sunt. Veniam culpa dolore laborum nostrud ipsum pariatur ipsum dolore consectetur commodo ex. Non culpa deserunt voluptate. Amet excepteur incididunt deserunt pariatur velit labore do sunt occaecat eiusmod. Tempor proident sint exercitation culpa incididunt sunt proident sunt reprehenderit. Sint ipsum qui id nisi quis officia in. Anim velit minim fugiat qui dolor enim occaecat amet excepteur do aliqua ex adipisicing laboris labore.\nCulpa aute sint aliquip in aute enim cillum in exercitation cupidatat ex cupidatat mollit dolore ut. Et culpa minim laborum in ipsum laborum velit laboris fugiat ad culpa cillum. Sit nulla eu minim in nulla. Nulla esse sint occaecat eiusmod in irure in dolor veniam pariatur laboris consectetur sunt laboris excepteur. Dolor dolore ad incididunt consequat. Ad elit ullamco veniam cillum reprehenderit pariatur pariatur nisi ea. Pariatur quis ut deserunt eiusmod ipsum magna ullamco."
  }
]